<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><!-- template: public/docs/_layout--><head><title>Dependency Injection - ts - GUIDE</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta name="keywords" content="Angular, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="name" content="Angular"/><meta itemprop="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="image" content="https://angular.io/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,700" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><nav data-swiftype-index="false" scroll-y-offset-element="scroll-y-offset-element" class="main-nav l-pinned-top l-layer-5"><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="View Menu" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">Site Menu <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>Features</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>Docs</a></li><li class="l-left"><a class="main-nav-button" href="/events.html" md-button>Events</a></li><li class="l-right"><a class="main-nav-button" href="/docs/ts/latest/quickstart.html" md-button>Get Started</a></li></ul></nav><!-- Include this file ONLY when current.path[2] is defined--><nav data-swiftype-index="false" ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="sidenav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="sidenav-search st-input-wrapper"><div class="st-input-inner"><label for="search-io" class="is-hidden">Search Docs</label><input type="text" placeholder="SEARCH DOCS..." class="st-default-search-input"/></div><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">Docs <span class="icon icon-arrow-drop-down"></span></button></header><ul class="sidenav-links"><li class="sidenav-section no-border"><a href="/docs/ts/latest/" class="nav-title">Docs Home</a></li><!-- CORE DOCUMENTATION--><li class="sidenav-section-divider"><h3>Core Documentation</h3></li><li class="sidenav-section"><a href="/docs/ts/latest/quickstart.html" title="Quickstart" class="nav-title ">Quickstart</a></li><li class="sidenav-section"><a href="/docs/ts/latest/cli-quickstart.html" title="CLI Quickstart" class="nav-title ">CLI Quickstart</a></li><li class="sidenav-section"><a href="/docs/ts/latest/guide/" title="How to read and use this documentation." class="nav-title is-parent is-selected">Guide<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists"><ul><li class="nav-list-item "><a href="/docs/ts/latest/guide/" title="How to read and use this documentation.">1. Overview</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/setup.html" title="Install the Angular QuickStart seed for faster, more efficient development on your machine.">2. Setup</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/learning-angular.html" title="A suggested path through the documentation for Angular newcomers.">3. Learning Angular</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/architecture.html" title="The basic building blocks of Angular applications.">4. Architecture</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/appmodule.html" title="Tell Angular how to construct and bootstrap the app in the root &quot;AppModule&quot;.">5. The Root Module</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/displaying-data.html" title="Property binding helps show app data in the UI.">6. Displaying Data</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/user-input.html" title="User input triggers DOM events. We listen to those events with event bindings that funnel updated values back into our components and models.">7. User Input</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/forms.html" title="A form creates a cohesive, effective, and compelling data entry experience. An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors.">8. Forms</a></li><li class="nav-list-item is-selected"><a href="/docs/ts/latest/guide/dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services &quot;just-in-time&quot;.">9. Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/template-syntax.html" title="Learn how to write templates that display data and consume user events with the help of data binding.">10. Template Syntax</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/cheatsheet.html" title="Cheat Sheet">11. Cheat Sheet</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/style-guide.html" title="Write Angular with style.">12. Style Guide</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/glossary.html" title="Brief definitions of the most important words in the Angular vocabulary.">13. Glossary</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/change-log.html" title="An annotated history of recent documentation improvements.">14. Change Log</a></li></ul></div></li><li class="sidenav-section no-border"><a href="/docs/ts/latest/api/" title="API Reference" class="nav-title ">API Reference</a></li><!-- ADVANCED DOCUMENATION--><li class="sidenav-section-divider"><h3>Additional Documentation</h3></li><li class="sidenav-section"><a href="/docs/ts/latest/tutorial/" title="The Tour of Heroes tutorial takes you through the steps of creating an Angular application in TypeScript." class="nav-title is-parent ">Tutorial<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/" title="The Tour of Heroes tutorial takes you through the steps of creating an Angular application in TypeScript.">1. Introduction</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt1.html" title="We build a simple hero editor.">2. The Hero Editor</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt2.html" title="We build a master/detail page with a list of heroes.">3. Master/Detail</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt3.html" title="We refactor the master/detail view into separate components.">4. Multiple Components</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt4.html" title="We create a reusable service to manage our hero data calls.">5. Services</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt5.html" title="We add the Angular Router and learn to navigate among the views.">6. Routing</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt6.html" title="We convert our service and components to use Angular's HTTP service.">7. HTTP</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/ts/latest/guide/animations.html" title="A guide to Angular's animation system." class="nav-title is-parent ">Advanced<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/guide/animations.html" title="A guide to Angular's animation system.">Animations</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements.">Attribute Directives</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/browser-support.html" title="Browser support and polyfills guide.">Browser support</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/component-styles.html" title="Learn how to apply CSS styles to components.">Component Styles</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/deployment.html" title="Learn how to deploy your Angular app.">Deployment</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/hierarchical-dependency-injection.html" title="Angular's hierarchical dependency injection system supports nested injectors in parallel with the component tree.">Hierarchical Injectors</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/reactive-forms.html" title="Create a reactive form using FormBuilder, groups, and arrays.">Reactive Forms</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/server-communication.html" title="Use an HTTP Client to talk to a remote server.">HTTP Client</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them.">Lifecycle Hooks</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/ngmodule.html" title="Define application modules with @NgModule.">NgModules</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/npm-packages.html" title="Recommended npm packages, and how to specify package dependencies.">Npm Packages</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/pipes.html" title="Pipes transform displayed values within a template.">Pipes</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/router.html" title="Discover the basics of screen navigation with the Angular Router.">Routing &amp; Navigation</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/security.html" title="Developing for content security in Angular applications.">Security</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/setup-systemjs-anatomy.html" title="Inside the local development environment for SystemJS.">Setup Anatomy</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/structural-directives.html" title="Angular has a powerful template engine that lets us easily manipulate the DOM structure of our elements.">Structural Directives</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/testing.html" title="Techniques and practices for testing an Angular app.">Testing</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/typescript-configuration.html" title="TypeScript configuration for Angular developers.">TypeScript Configuration</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/upgrade.html" title="Incrementally upgrade an AngularJS application to Angular.">Upgrading from AngularJS</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/webpack.html" title="Create Angular applications with a Webpack based tooling.">Webpack: an introduction</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/ts/latest/cookbook/" title="A collection of recipes for common Angular application scenarios." class="nav-title is-parent ">Cookbook<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/" title="A collection of recipes for common Angular application scenarios.">Overview</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/aot-compiler.html" title="Learn how to use Ahead-of-time compilation.">Ahead-of-Time Compilation</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ajs-quick-reference.html" title="Learn how AngularJS concepts and techniques map to Angular.">AngularJS to Angular</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/component-communication.html" title="Share information between different directives and components.">Component Interaction</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dependency-injection.html" title="Techniques for Dependency Injection.">Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dynamic-component-loader.html" title="Load components dynamically.">Dynamic Component Loader</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dynamic-form.html" title="Render dynamic forms with FormGroup.">Dynamic Forms</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/form-validation.html" title="Validate user's form entries.">Form Validation</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/i18n.html" title="Translate the app's template text into multiple languages.">Internationalization (i18n)</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ngmodule-faq.html" title="Answers to frequently asked questions about @NgModule.">NgModule FAQs</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/set-document-title.html" title="Setting the document or window title using the Title service.">Set the Document Title</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ts-to-js.html" title="Convert Angular TypeScript examples into ES6 and ES5 JavaScript.">TypeScript to JavaScript</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/visual-studio-2015.html" title="Use Visual Studio 2015 with the QuickStart files.">Visual Studio 2015 QuickStart</a></li></ul></div></li></ul><nav class="dropdown"><button aria-label="Select a version of Angular" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular for TypeScript  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><ul ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><li><a href="/docs/ts/latest/guide/dependency-injection.html" md-button>Angular for TypeScript </a></li><li><a href="/docs/js/latest/guide/dependency-injection.html" md-button>Angular for JavaScript </a></li></ul></nav></nav><script>// Could put in appCtrl but only needed here and clear here
(function scrollToSelectedLink() {
  var sideNav = document.getElementsByClassName('sidenav')[0];
  var link = sideNav.getElementsByClassName('is-selected')[0];
  if(link && link.offsetTop > window.innerHeight){
    sideNav.scrollTop = link.offsetTop - (window.innerHeight/2);
    //alert("offsetTop: " + link.offsetTop + " side-nav top is " + sideNav.scrollTop);
  }
})()</script><header class="hero background-sky"><h1 class="hero-title ">Dependency Injection </h1><div class="clear"></div></header><div class="banner"><p class="text-body">Angular's dependency injection system creates and delivers dependent services "just-in-time".</p></div><article class="l-content-small grid-fluid docs-content"><script>function why(id, backTo) {
  var id = "#"+id;
  var el = document.querySelector(id);
  el.hidden=el.hidden=!el.hidden;

  if (el.hidden && backTo){
    // the next line is required to work around a bug in WebKit (Chrome / Safari)
    location.href = "#";
    location.href =  "#" + backTo;
  }
}</script><script>function verbose(isVerbose) {
  isVerbose = !! isVerbose;
  var el = document.querySelector('button.verbose.off');
  el.style.display = isVerbose ? 'block' : 'none';
  var el = document.querySelector('button.verbose.on');
  el.style.display = isVerbose ? 'none' : 'block';

  CCSStylesheetRuleStyle('main','.l-verbose-section', 'display',
    isVerbose ? 'block' : 'none');
}
</script><script>function CCSStylesheetRuleStyle(stylesheet, selectorText, style, value){
  /* returns the value of the element style of the rule in the stylesheet
  *  If no value is given, reads the value
  *  If value is given, the value is changed and returned
  *  If '' (empty string) is given, erases the value.
  *  The browser will apply the default one
  *
  * string stylesheet: part of the .css name to be recognized, e.g. 'default'
  * string selectorText: css selector, e.g. '#myId', '.myClass', 'thead td'
  * string style: camelCase element style, e.g. 'fontSize'
  * string value optional : the new value
  */
  var CCSstyle = undefined, rules, sheet;
  for(var m in document.styleSheets){
    sheet = document.styleSheets[m];
    if(sheet.href && sheet.href.indexOf(stylesheet) != -1){
    rules = sheet[document.all ? 'rules' : 'cssRules'];
    for(var n in rules){
      console.log(rules[n].selectorText);
      if(rules[n].selectorText == selectorText){
        CCSstyle = rules[n].style;
        break;
      }
    }
    break;
    }
  }
  if(value == undefined)
    return CCSstyle[style]
  else
    return CCSstyle[style] = value
}
</script><p><strong>Dependency injection</strong> is an important application design pattern.
Angular has its own dependency injection framework, and
you really can&#39;t build an Angular application without it.
It&#39;s used so widely that almost everyone just calls it <em>DI</em>.</p>
<p>This page covers what DI is, why it&#39;s so useful,
and <a href="#angular-di">how to use it</a> in an Angular app.</p>
<h1 id="contents">Contents</h1>
<ul>
<li><a href="#why-di">Why dependency injection?</a></li>
<li><a href="#angular-dependency-injection">Angular dependency injection</a><ul>
<li><a href="#injector-config">Configuring the injector</a></li>
<li><a href="#register-providers-ngmodule">Registering providers in an <code>NgModule</code></a></li>
<li><a href="#register-providers-component">Registering providers in a component</a></li>
<li><a href="#ngmodule-vs-comp">When to use <code>NgModule</code> versus an application component</a></li>
<li><a href="#prep-for-injection">Preparing the <code>HeroListComponent</code> for injection</a></li>
<li><a href="#di-metadata">Implicit injector creation</a></li>
<li><a href="#singleton-services">Singleton services</a></li>
<li><a href="#testing-the-component">Testing the component</a></li>
<li><a href="#service-needs-service">When the service needs a service</a></li>
<li><a href="#injectable">Why <code>@Injectable()</code>?</a></li>
</ul>
</li>
<li><a href="#logger-service">Creating and registering a logger service</a></li>
<li><a href="#injector-providers">Injector providers</a><ul>
<li><a href="#provide">The <code>Provider</code> class and <code>provide</code> object literal</a></li>
<li><a href="#class-provider">Alternative class providers</a></li>
<li><a href="#class-provider-dependencies">Class provider with dependencies</a></li>
<li><a href="#aliased-class-providers">Aliased class providers</a></li>
<li><a href="#value-provider">Value providers</a></li>
<li><a href="#factory-provider">Factory providers</a></li>
</ul>
</li>
<li><a href="#dependency-injection-tokens">Dependency injection tokens</a><ul>
<li><a href="#non-class-dependencies">Non-class dependencies</a></li>
<li><a href="#opaquetoken"><code>OpaqueToken</code></a></li>
</ul>
</li>
<li><a href="#optional">Optional dependencies</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#explicit-injector">Appendix: Working with injectors directly</a></li>
</ul>
<p>Run the <live-example></live-example>.</p>
<div id="why-di" class="l-main-section"></div><h2 id="why-dependency-injection-">Why dependency injection?</h2>
<p>To understand why dependency injection is so important, consider an example without it. 
Imagine writing the following code:</p>
<div class="code-example"><header><h4>src/app/car/car.ts (without DI)</h4></header><code-example language="ts" format="linenums">export class Car {

  public engine: Engine;
  public tires: Tires;
  public description = &#39;No DI&#39;;

  constructor() {
    this.engine = new Engine();
    this.tires = new Tires();
  }

  // Method using the engine and tires
  drive() {
    return `${this.description} car with ` +
      `${this.engine.cylinders} cylinders and ${this.tires.make} tires.`;
  }
}
</code-example></div><p>The <code>Car</code> class creates everything it needs inside its constructor.
What&#39;s the problem?
The problem is that the <code>Car</code> class is brittle, inflexible, and hard to test.</p>
<p>This <code>Car</code> needs an engine and tires. Instead of asking for them,
the <code>Car</code> constructor instantiates its own copies from
the very specific classes <code>Engine</code> and <code>Tires</code>.</p>
<p>What if the <code>Engine</code> class evolves and its constructor requires a parameter?
That would break the <code>Car</code> class and it would stay broken until you rewrote it along the lines of
<code>this.engine = new Engine(theNewParameter)</code>.
The <code>Engine</code> constructor parameters weren&#39;t even a consideration when you first wrote <code>Car</code>.
You may not anticipate them even now.
But you&#39;ll <em>have</em> to start caring because
when the definition of <code>Engine</code> changes, the <code>Car</code> class must change.
That makes <code>Car</code> brittle.</p>
<p>What if you want to put a different brand of tires on your <code>Car</code>? Too bad.
You&#39;re locked into whatever brand the <code>Tires</code> class creates. That makes the 
<code>Car</code> class inflexible.</p>
<p>Right now each new car gets its own <code>engine</code>. It can&#39;t share an <code>engine</code> with other cars.
While that makes sense for an automobile engine,
surely you can think of other dependencies that should be shared, such as the onboard
wireless connection to the manufacturer&#39;s service center. This <code>Car</code> lacks the flexibility
to share services that have been created previously for other consumers.</p>
<p>When you write tests for <code>Car</code> you&#39;re at the mercy of its hidden dependencies.
Is it even possible to create a new <code>Engine</code> in a test environment?
What does <code>Engine</code> depend upon? What does that dependency depend on?
Will a new instance of <code>Engine</code> make an asynchronous call to the server?
You certainly don&#39;t want that going on during tests.</p>
<p>What if the <code>Car</code> should flash a warning signal when tire pressure is low?
How do you confirm that it actually does flash a warning
if you can&#39;t swap in low-pressure tires during the test?</p>
<p>You have no control over the car&#39;s hidden dependencies.
When you can&#39;t control the dependencies, a class becomes difficult to test.</p>
<p>How can you make <code>Car</code> more robust, flexible, and testable?</p>
<p><a id="ctor-injection"></a>
That&#39;s super easy. Change the <code>Car</code> constructor to a version with DI:</p>
<code-tabs><code-pane language="ts" name="src/app/car/car.ts (excerpt with DI)" format=".">public description = &#39;DI&#39;;

constructor(public engine: Engine, public tires: Tires) { }
</code-pane><code-pane language="ts" name="src/app/car/car.ts (excerpt without DI)" format=".">public engine: Engine;
public tires: Tires;
public description = &#39;No DI&#39;;

constructor() {
  this.engine = new Engine();
  this.tires = new Tires();
}
</code-pane></code-tabs><p>See what happened? The definition of the dependencies are 
now in the constructor.
The <code>Car</code> class no longer creates an <code>engine</code> or <code>tires</code>.
It just consumes them.</p>
<div class="l-sub-section"><p>This example leverages TypeScript&#39;s constructor syntax for declaring
parameters and properties simultaneously.</p>
</div><p>Now you can create a car by passing the engine and tires to the constructor.</p>
<div class="code-example"><code-example language="ts" format="">// Simple car with 4 cylinders and Flintstone tires.
let car = new Car(new Engine(), new Tires());
</code-example></div><p>How cool is that?
The definition of the <code>engine</code> and <code>tire</code> dependencies are
decoupled from the <code>Car</code> class.
You can pass in any kind of <code>engine</code> or <code>tires</code> you like, as long as they
conform to the general API requirements of an <code>engine</code> or <code>tires</code>.</p>
<p>Now, if someone extends the <code>Engine</code> class, that is not <code>Car</code>&#39;s problem.</p>
<div class="l-sub-section"><p>The <em>consumer</em> of <code>Car</code> has the problem. The consumer must update the car creation code to
something like this:</p>
<div class="code-example"><code-example language="ts" format="">class Engine2 {
  constructor(public cylinders: number) { }
}
// Super car with 12 cylinders and Flintstone tires.
let bigCylinders = 12;
let car = <span class="otl">new Car(new Engine2(bigCylinders), new Tires());</span>
</code-example></div><p>The critical point is this: the <code>Car</code> class did not have to change.
You&#39;ll take care of the consumer&#39;s problem shortly.</p>
</div><p>The <code>Car</code> class is much easier to test now because you are in complete control
of its dependencies.
You can pass mocks to the constructor that do exactly what you want them to do
during each test:</p>
<div class="code-example"><code-example language="ts" format="">class MockEngine extends Engine { cylinders = 8; }
class MockTires  extends Tires  { make = &#39;YokoGoodStone&#39;; }

// Test car with 8 cylinders and YokoGoodStone tires.
let car = <span class="otl">new Car(new MockEngine(), new MockTires());</span>
</code-example></div><p><strong>You just learned what dependency injection is</strong>.</p>
<p>It&#39;s a coding pattern in which a class receives its dependencies from external
sources rather than creating them itself.</p>
<p>Cool! But what about that poor consumer?
Anyone who wants a <code>Car</code> must now
create all three parts: the <code>Car</code>, <code>Engine</code>, and <code>Tires</code>.
The <code>Car</code> class shed its problems at the consumer&#39;s expense.
You need something that takes care of assembling these parts.</p>
<p>You <em>could</em> write a giant class to do that:</p>
<div class="code-example"><header><h4>src/app/car/car-factory.ts</h4></header><code-example language="ts" format="linenums">import { Engine, Tires, Car } from &#39;./car&#39;;

// BAD pattern!
export class CarFactory {
  createCar() {
    let car = new Car(this.createEngine(), this.createTires());
    car.description = &#39;Factory&#39;;
    return car;
  }

  createEngine() {
    return new Engine();
  }

  createTires() {
    return new Tires();
  }
}
</code-example></div><p>It&#39;s not so bad now with only three creation methods.
But maintaining it will be hairy as the application grows.
This factory is going to become a huge spiderweb of
interdependent factory methods!</p>
<p>Wouldn&#39;t it be nice if you could simply list the things you want to build without
having to define which dependency gets injected into what?</p>
<p>This is where the dependency injection framework comes into play.
Imagine the framework had something called an <em>injector</em>.
You register some classes with this injector, and it figures out how to create them.</p>
<p>When you need a <code>Car</code>, you simply ask the injector to get it for you and you&#39;re good to go.</p>
<div class="code-example"><code-example language="ts" format="">let car = injector.get(Car);
</code-example></div><p>Everyone wins. The <code>Car</code> knows nothing about creating an <code>Engine</code> or <code>Tires</code>.
The consumer knows nothing about creating a <code>Car</code>.
You don&#39;t have a gigantic factory class to maintain.
Both <code>Car</code> and consumer simply ask for what they need and the injector delivers.</p>
<p>This is what a <strong>dependency injection framework</strong> is all about.</p>
<p>Now that you know what dependency injection is and appreciate its benefits,
read on to see how it is implemented in Angular.</p>
<div id="angular-di" class="l-main-section"></div><h2 id="angular-dependency-injection">Angular dependency injection</h2>
<p>Angular ships with its own dependency injection framework. This framework can also be used
as a standalone module by other applications and frameworks.</p>
<p>To see what it can do when building components in Angular, 
start with a simplified version of the <code>HeroesComponent</code>
that from the <a href="../tutorial/">The Tour of Heroes</a>.</p>
<code-tabs><code-pane language="ts" name="src/app/heroes/heroes.component.ts" format="linenums">import { Component }          from &#39;@angular/core&#39;;

@Component({
  selector: &#39;my-heroes&#39;,
  template: `
  &lt;h2&gt;Heroes&lt;/h2&gt;
  &lt;hero-list&gt;&lt;/hero-list&gt;
  `
})
export class HeroesComponent { }
</code-pane><code-pane language="ts" name="src/app/heroes/hero-list.component.ts" format="linenums">import { Component }   from &#39;@angular/core&#39;;

import { HEROES }      from &#39;./mock-heroes&#39;;

@Component({
  selector: &#39;hero-list&#39;,
  template: `
  &lt;div *ngFor=&quot;let hero of heroes&quot;&gt;
    {{hero.id}} - {{hero.name}}
  &lt;/div&gt;
  `
})
export class HeroListComponent {
  heroes = HEROES;
}
</code-pane><code-pane language="ts" name="src/app/heroes/hero.ts" format="linenums">export class Hero {
  id: number;
  name: string;
  isSecret = false;
}
</code-pane><code-pane language="ts" name="src/app/heroes/mock-heroes.ts" format="linenums">import { Hero } from &#39;./hero&#39;;

export var HEROES: Hero[] = [
  { id: 11, isSecret: false, name: &#39;Mr. Nice&#39; },
  { id: 12, isSecret: false, name: &#39;Narco&#39; },
  { id: 13, isSecret: false, name: &#39;Bombasto&#39; },
  { id: 14, isSecret: false, name: &#39;Celeritas&#39; },
  { id: 15, isSecret: false, name: &#39;Magneta&#39; },
  { id: 16, isSecret: false, name: &#39;RubberMan&#39; },
  { id: 17, isSecret: false, name: &#39;Dynama&#39; },
  { id: 18, isSecret: true,  name: &#39;Dr IQ&#39; },
  { id: 19, isSecret: true,  name: &#39;Magma&#39; },
  { id: 20, isSecret: true,  name: &#39;Tornado&#39; }
];
</code-pane></code-tabs><p>The <code>HeroesComponent</code> is the root component of the <em>Heroes</em> feature area.
It governs all the child components of this area.
This stripped down version has only one child, <code>HeroListComponent</code>,
which displays a list of heroes.</p>
<p>Right now <code>HeroListComponent</code> gets heroes from <code>HEROES</code>, an in-memory collection
defined in another file.
That may suffice in the early stages of development, but it&#39;s far from ideal.
As soon as you try to test this component or want to get your heroes data from a remote server,
you&#39;ll have to change the implementation of <code>heroes</code> and
fix every other use of the <code>HEROES</code> mock data.</p>
<p>It&#39;s better to make a service that hides how the app gets hero data.</p>
<div class="l-sub-section"><p>Given that the service is a
<a href="https://en.wikipedia.org/wiki/Separation_of_concerns">separate concern</a>,
consider writing the service code in its own file.</p>
<p>See <a href="#one-class-per-file">this note</a> for details.</p>
</div><p>The following <code>HeroService</code> exposes a <code>getHeroes</code> method that returns
the same mock data as before, but none of its consumers need to know that.</p>
<div class="code-example"><header><h4>src/app/heroes/hero.service.ts</h4></header><code-example language="ts" format="linenums">import { Injectable } from &#39;@angular/core&#39;;

import { HEROES }     from &#39;./mock-heroes&#39;;

@Injectable()
export class HeroService {
  getHeroes() { return HEROES; }
}
</code-example></div><div class="l-sub-section"><p>The <code>@Injectable()</code> decorator above the service class is 
covered <a href="#injectable">shortly</a>.</p>
</div><div class="l-sub-section"><p>Of course, this isn&#39;t a real service.
If the app were actually getting data from a remote server, the API would have to be 
asynchronous, perhaps returning a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>.
You&#39;d also have to rewrite the way components consume the service.
This is important in general, but not in this example.</p>
</div><p>A service is nothing more than a class in Angular.
It remains nothing more than a class until you register it with an Angular injector.</p>
<div id="bootstrap"></div><a id="injector-config"></a><h3 id="configuring-the-injector">Configuring the injector</h3>
<p>You don&#39;t have to create an Angular injector.
Angular creates an application-wide injector for you during the bootstrap process.</p>
<div class="code-example"><header><h4>src/main.ts (bootstrap)</h4></header><code-example language="ts" format="">platformBrowserDynamic().bootstrapModule(AppModule);
</code-example></div><p>You do have to configure the injector by registering the <strong>providers</strong>
that create the services the application requires.
This guide explains what <a href="#providers">providers</a> are later.</p>
<p>You can either register a provider within an <a href="ngmodule.html">NgModule</a> or in application components.</p>
<a id="register-providers-ngmodule"></a><h3 id="registering-providers-in-an-_ngmodule_">Registering providers in an <em>NgModule</em></h3>
<p>Here&#39;s the <code>AppModule</code> that registers two providers, <code>UserService</code> and an <code>APP_CONFIG</code> provider, 
in its <code>providers</code> array.</p>
<div class="code-example"><header><h4>src/app/app.module.ts (excerpt)</h4></header><code-example language="ts" format="">@NgModule({
  imports: [
    BrowserModule
  ],
  declarations: [
    AppComponent,
    CarComponent,
    HeroesComponent,
    /* . . . */
  ],
  providers: [
    UserService,
    { provide: APP_CONFIG, useValue: HERO_DI_CONFIG }
  ],
  bootstrap: [ AppComponent ]
})
export class AppModule { }
</code-example></div><p>Because the <code>HeroService</code> is used <em>only</em> within the <code>HeroesComponent</code> 
and its subcomponents, the top-level <code>HeroesComponent</code> is the ideal 
place to register it.</p>
<a id="register-providers-component"></a><h3 id="registering-providers-in-a-component">Registering providers in a component</h3>
<p>Here&#39;s a revised <code>HeroesComponent</code> that registers the <code>HeroService</code> in its <code>providers</code> array.</p>
<div class="code-example"><header><h4>src/app/heroes/heroes.component.ts</h4></header><code-example language="ts" format="">import { Component }          from &#39;@angular/core&#39;;

import { HeroService }        from &#39;./hero.service&#39;;

@Component({
  selector: &#39;my-heroes&#39;,
  providers: [HeroService],
  template: `
  &lt;h2&gt;Heroes&lt;/h2&gt;
  &lt;hero-list&gt;&lt;/hero-list&gt;
  `
})
export class HeroesComponent { }
</code-example></div><a id="ngmodule-vs-comp"></a><h3 id="when-to-use-_ngmodule_-versus-an-application-component">When to use <em>NgModule</em> versus an application component</h3>
<p>On the one hand, a provider in an <code>NgModule</code> is registered in the root injector. That means that every provider
registered within an <code>NgModule</code> will be accessible in the <em>entire application</em>.</p>
<p>On the other hand, a provider registered in an application component is available only on 
that component and all its children.</p>
<p>Here, the <code>APP_CONFIG</code> service needs to be available all across the application, so it&#39;s 
registered in the <code>AppModule</code> <code>@NgModule</code> <code>providers</code> array.
But since the <code>HeroService</code> is only used within the <em>Heroes</em>
feature area and nowhere else, it makes sense to register it in 
the <code>HeroesComponent</code>.</p>
<div class="l-sub-section"><p>Also see <em>&quot;Should I add app-wide providers to the root <code>AppModule</code> or 
the root <code>AppComponent</code>?&quot;</em> in the <a href="../cookbook/ngmodule-faq.html#q-root-component-or-module">NgModule FAQ</a>.</p>
</div><a id="prep-for-injection"></a><h3 id="preparing-the-_herolistcomponent_-for-injection">Preparing the <em>HeroListComponent</em> for injection</h3>
<p>The <code>HeroListComponent</code> should get heroes from the injected <code>HeroService</code>.
Per the dependency injection pattern, the component must ask for the service in its 
constructor, <a href="#ctor-injection">as discussed earlier</a>.
It&#39;s a small change:</p>
<code-tabs><code-pane language="ts" name="src/app/heroes/hero-list.component (with DI)" format="linenums">import { Component }   from &#39;@angular/core&#39;;

import { Hero }        from &#39;./hero&#39;;
import { HeroService } from &#39;./hero.service&#39;;

@Component({
  selector: &#39;hero-list&#39;,
  template: `
  &lt;div *ngFor=&quot;let hero of heroes&quot;&gt;
    {{hero.id}} - {{hero.name}}
  &lt;/div&gt;
  `
})
export class HeroListComponent {
  heroes: Hero[];

  constructor(heroService: HeroService) {
    this.heroes = heroService.getHeroes();
  }
}
</code-pane><code-pane language="ts" name="src/app/heroes/hero-list.component (without DI)" format="linenums">import { Component }   from &#39;@angular/core&#39;;

import { HEROES }      from &#39;./mock-heroes&#39;;

@Component({
  selector: &#39;hero-list&#39;,
  template: `
  &lt;div *ngFor=&quot;let hero of heroes&quot;&gt;
    {{hero.id}} - {{hero.name}}
  &lt;/div&gt;
  `
})
export class HeroListComponent {
  heroes = HEROES;
}
</code-pane></code-tabs><div class="l-sub-section"><h4 id="focus-on-the-constructor">Focus on the constructor</h4>
<p>Adding a parameter to the constructor isn&#39;t all that&#39;s happening here.</p>
<div class="code-example"><code-example language="ts" format="">constructor(heroService: HeroService) {
  this.heroes = heroService.getHeroes();
}
</code-example></div><p>Note that the constructor parameter has the type <code>HeroService</code>, and that
the <code>HeroListComponent</code> class has an <code>@Component</code> decorator
(scroll up to confirm that fact).
Also recall that the parent component (<code>HeroesComponent</code>)
has <code>providers</code> information for <code>HeroService</code>.</p>
<p>The constructor parameter type, the <code>@Component</code> decorator,
and the parent&#39;s <code>providers</code> information combine to tell the
Angular injector to inject an instance of
<code>HeroService</code> whenever it creates a new <code>HeroListComponent</code>.</p>
</div><div id="di-metadata"></div><h3 id="implicit-injector-creation">Implicit injector creation</h3>
<p>You saw how to use an injector to create a new 
<code>Car</code> earlier in this guide. 
You <em>could</em> create such an injector
explicitly:</p>
<div class="code-example"><code-example language="ts" format="">  injector = ReflectiveInjector.resolveAndCreate([Car, Engine, Tires]);
  let car = injector.get(Car);
</code-example></div><p>You won&#39;t find code like that in the Tour of Heroes or any of the other 
documentation samples.
You <em>could</em> write code that <a href="#explicit-injector">explicitly creates an injector</a> if you <em>had</em> to, 
but it&#39;s not always the best choice.
Angular takes care of creating and calling injectors
when it creates components for you&mdash;whether through HTML markup, as in <code>&lt;hero-list&gt;&lt;/hero-list&gt;</code>,
or after navigating to a component with the <a href="./router.html">router</a>.
If you let Angular do its job, you&#39;ll enjoy the benefits of automated dependency injection.</p>
<a><div id="singleton-services"></div></a><h3 id="singleton-services">Singleton services</h3>
<p>Dependencies are singletons within the scope of an injector.
In this guide&#39;s example, a single <code>HeroService</code> instance is shared among the
<code>HeroesComponent</code> and its <code>HeroListComponent</code> children.</p>
<p>However, Angular DI is a hierarchical injection
system, which means that nested injectors can create their own service instances.
For more information, see <a href="./hierarchical-dependency-injection.html">Hierarchical Injectors</a>.</p>
<a id="testing-the-component"></a><h3 id="testing-the-component">Testing the component</h3>
<p>Earlier you saw that designing a class for dependency injection makes the class easier to test.
Listing dependencies as constructor parameters may be all you need to test application parts effectively.</p>
<p>For example, you can create a new <code>HeroListComponent</code> with a mock service that you can manipulate
under test:</p>
<div class="code-example"><code-example language="ts" format="">let expectedHeroes = [{name: &#39;A&#39;}, {name: &#39;B&#39;}]
let mockService = &lt;HeroService&gt; {getHeroes: () =&gt; expectedHeroes }

it(&#39;should have heroes when HeroListComponent created&#39;, () =&gt; {
  let hlc = new HeroListComponent(mockService);
  expect(hlc.heroes.length).toEqual(expectedHeroes.length);
});
</code-example></div><div class="l-sub-section"><p>Learn more in <a href="./testing.html">Testing</a>.</p>
</div><a id="service-needs-service"></a><h3 id="when-the-service-needs-a-service">When the service needs a service</h3>
<p>The <code>HeroService</code> is very simple. It doesn&#39;t have any dependencies of its own.</p>
<p>What if it had a dependency? What if it reported its activities through a logging service?
You&#39;d apply the same <em>constructor injection</em> pattern,
adding a constructor that takes a <code>Logger</code> parameter.</p>
<p>Here is the revision compared to the original.</p>
<code-tabs><code-pane language="ts" name="src/app/heroes/hero.service (v2)" format="linenums">import { Injectable } from &#39;@angular/core&#39;;

import { HEROES }     from &#39;./mock-heroes&#39;;
import { Logger }     from &#39;../logger.service&#39;;

@Injectable()
export class HeroService {

  constructor(private logger: Logger) {  }

  getHeroes() {
    this.logger.log(&#39;Getting heroes ...&#39;);
    return HEROES;
  }
}
</code-pane><code-pane language="ts" name="src/app/heroes/hero.service (v1)" format="linenums">import { Injectable } from &#39;@angular/core&#39;;

import { HEROES }     from &#39;./mock-heroes&#39;;

@Injectable()
export class HeroService {
  getHeroes() { return HEROES; }
}
</code-pane></code-tabs><p>The constructor now asks for an injected instance of a <code>Logger</code> and stores it in a private property called <code>logger</code>.
You call that property within the <code>getHeroes()</code> method when anyone asks for heroes.</p>
<a id="injectable"> </a><h3 id="why-_-injectable-_-">Why <em>@Injectable()</em>?</h3>
<p><strong><a href="../api/core/index/Injectable-decorator.html">@Injectable()</a></strong> marks a class as available to an
injector for instantiation. Generally speaking, an injector reports an
error when trying to instantiate a class that is not marked as
<code>@Injectable()</code>.</p>
<div class="l-sub-section"><p>As it happens, you could have omitted <code>@Injectable()</code> from the first
version of <code>HeroService</code> because it had no injected parameters.
But you must have it now that the service has an injected dependency.
You need it because Angular requires constructor parameter metadata 
in order to inject a <code>Logger</code>.</p>
</div><div class="callout is-helpful"><header>Suggestion: add @Injectable() to every service class</header><p>Consider adding <code>@Injectable()</code> to every service class, even those that don&#39;t have dependencies
and, therefore, do not technically require it. Here&#39;s why:</p>
<ul style="font-size:inherit"><li><b>Future proofing:</b> No need to remember <code>@Injectable()</code> when you add a dependency later.</li><li><b>Consistency:</b> All services follow the same rules, and you don't have to wonder why a decorator is missing.</li></ul></div><p>Injectors are also responsible for instantiating components
like <code>HeroesComponent</code>. So why doesn&#39;t <code>HeroesComponent</code> have
<code>@Injectable()</code>?</p>
<p>You <em>can</em> add it if you really want to. It isn&#39;t necessary because the
<code>HeroesComponent</code> is already marked with <code>@Component</code>, and this
decorator class (like <code>@Directive</code> and <code>@Pipe</code>, which you learn about later)
is a subtype of <a href="../api/core/index/Injectable-decorator.html">@Injectable()</a>.  It is in
fact <code>@Injectable()</code> decorators that
identify a class as a target for instantiation by an injector.</p>
<div class="l-sub-section"><p>At runtime, injectors can read class metadata in the transpiled JavaScript code
and use the constructor parameter type information
to determine what things to inject. </p>
<p>Not every JavaScript class has metadata.
The TypeScript compiler discards metadata by default.
If the <code>emitDecoratorMetadata</code> compiler option is true 
(as it should be in the <code>tsconfig.json</code>),
the compiler adds the metadata to the generated JavaScript 
for <em>every class with at least one decorator</em>.</p>
<p>While any decorator will trigger this effect, mark the service class with the
<a href="../api/core/index/Injectable-decorator.html">@Injectable()</a> decorator
to make the intent clear.</p>
</div><div class="callout is-critical"><header>Always include the parentheses</header><p>Always write <code>@Injectable()</code>, not just <code>@Injectable</code>.
The application will fail mysteriously if you forget the parentheses.</p>
</div><div id="logger-service" class="l-main-section"></div><h2 id="creating-and-registering-a-logger-service">Creating and registering a logger service</h2>
<p>Inject a logger into <code>HeroService</code> in two steps:</p>
<ol>
<li>Create the logger service.</li>
<li>Register it with the application.</li>
</ol>
<p>The logger service is quite simple:</p>
<div class="code-example"><header><h4>src/app/logger.service.ts</h4></header><code-example language="ts" format="linenums">import { Injectable } from &#39;@angular/core&#39;;

@Injectable()
export class Logger {
  logs: string[] = []; // capture logs for testing

  log(message: string) {
    this.logs.push(message);
    console.log(message);
  }
}
</code-example></div><p>You&#39;re likely to need the same logger service everywhere in your application,
so put it in the project&#39;s <code>app</code> folder and
register it in the <code>providers</code> array of the application module, <code>AppModule</code>.</p>
<div class="code-example"><header><h4>src/app/app.module.ts (excerpt)</h4></header><code-example language="ts" format="">providers: [Logger]
</code-example></div><p>If you forget to register the logger, Angular throws an exception when it first looks for the logger:</p>
<code-example format="nocode">EXCEPTION: No provider for Logger! (HeroListComponent -> HeroService -> Logger)
</code-example><p>That&#39;s Angular telling you that the dependency injector couldn&#39;t find the <em>provider</em> for the logger.
It needed that provider to create a <code>Logger</code> to inject into a new
<code>HeroService</code>, which it needed to
create and inject into a new <code>HeroListComponent</code>.</p>
<p>The chain of creations started with the <code>Logger</code> provider. <em>Providers</em> are the subject of the next section.</p>
<div id="providers" class="l-main-section"></div><h2 id="injector-providers">Injector providers</h2>
<p>A provider <em>provides</em> the concrete, runtime version of a dependency value.
The injector relies on <strong>providers</strong> to create instances of the services
that the injector injects into components and other services.</p>
<p>You must register a service <em>provider</em> with the injector, or it won&#39;t know how to create the service.</p>
<p>Earlier you registered the <code>Logger</code> service in the <code>providers</code> array of the metadata for the <code>AppModule</code> like this:</p>
<div class="code-example"><code-example language="ts" format="">providers: [Logger]
</code-example></div><p>There are many ways to <em>provide</em> something that looks and behaves like a  <code>Logger</code>.
The <code>Logger</code> class itself is an obvious and natural provider.
But it&#39;s not the only way.</p>
<p>You can configure the injector with alternative providers that can deliver an object that behaves like  a <code>Logger</code>.
You could provide a substitute class. You could provide a logger-like object. 
You could give it a provider that calls a logger factory function.
Any of these approaches might be a good choice under the right circumstances.</p>
<p>What matters is that the injector has a provider to go to when it needs a <code>Logger</code>.</p>
<div id="provide"></div><h3 id="the-provider-class-_andprovidefn-">The <em>Provider</em> class and <i>provide</i> object literal</h3>
<p>You wrote the <code>providers</code> array like this:</p>
<div class="code-example"><code-example language="ts" format="">providers: [Logger]
</code-example></div><p>This is actually a shorthand expression for a provider registration
using a <em>provider</em> object literal with two properties:</p>
<div class="code-example"><code-example language="ts" format="">[{ provide: Logger, useClass: Logger }]
</code-example></div><p>The first is the <a href="#token">token</a> that serves as the key for both locating a dependency value
and registering the provider.</p>
<p>The second is a provider definition object, 
which you can think of as a <em>recipe</em> for creating the dependency value. 
There are many ways to create dependency values just as there are many ways to write a recipe.</p>
<div id="class-provider"></div><h3 id="alternative-class-providers">Alternative class providers</h3>
<p>Occasionally you&#39;ll ask a different class to provide the service.
The following code tells the injector
to return a <code>BetterLogger</code> when something asks for the <code>Logger</code>.</p>
<div class="code-example"><code-example language="ts" format="">[{ provide: Logger, useClass: BetterLogger }]
</code-example></div><a id="class-provider-dependencies"></a><h3 id="class-provider-with-dependencies">Class provider with dependencies</h3>
<p>Maybe an <code>EvenBetterLogger</code> could display the user name in the log message.
This logger gets the user from the injected <code>UserService</code>,
which is also injected at the application level.</p>
<div class="code-example"><code-example language="ts" format="">@Injectable()
class EvenBetterLogger extends Logger {
  constructor(private userService: UserService) { super(); }

  log(message: string) {
    let name = this.userService.user.name;
    super.log(`Message to ${name}: ${message}`);
  }
}
</code-example></div><p>Configure it like <code>BetterLogger</code>.</p>
<div class="code-example"><code-example language="ts" format="">[ UserService,
  { provide: Logger, useClass: EvenBetterLogger }]
</code-example></div><a id="aliased-class-providers"></a><h3 id="aliased-class-providers">Aliased class providers</h3>
<p>Suppose an old component depends upon an <code>OldLogger</code> class.
<code>OldLogger</code> has the same interface as the <code>NewLogger</code>, but for some reason
you can&#39;t update the old component to use it.</p>
<p>When the <em>old</em> component logs a message with <code>OldLogger</code>,
you&#39;d like the singleton instance of <code>NewLogger</code> to handle it instead.</p>
<p>The dependency injector should inject that singleton instance
when a component asks for either the new or the old logger.
The <code>OldLogger</code> should be an alias for <code>NewLogger</code>.</p>
<p>You certainly do not want two different <code>NewLogger</code> instances in your app.
Unfortunately, that&#39;s what you get if you try to alias <code>OldLogger</code> to <code>NewLogger</code> with <code>useClass</code>.</p>
<div class="code-example"><code-example language="ts" format="">[ NewLogger,
  // Not aliased! Creates two instances of `NewLogger`
  { provide: OldLogger, useClass: NewLogger}]
</code-example></div><p>The solution: alias with the <code>useExisting</code> option.</p>
<div class="code-example"><code-example language="ts" format="">[ NewLogger,
  // Alias OldLogger w/ reference to NewLogger
  { provide: OldLogger, useExisting: NewLogger}]
</code-example></div><a id="value-provider"></a><h3 id="value-providers">Value providers</h3>
<p>Sometimes it&#39;s easier to provide a ready-made object rather than ask the injector to create it from a class.</p>
<div class="code-example"><code-example language="ts" format="">// An object in the shape of the logger service
let silentLogger = {
  logs: [&#39;Silent logger says &quot;Shhhhh!&quot;. Provided via &quot;useValue&quot;&#39;],
  log: () =&gt; {}
};
</code-example></div><p>Then you register a provider with the <code>useValue</code> option,
which makes this object play the logger role.</p>
<div class="code-example"><code-example language="ts" format="">[{ provide: Logger, useValue: silentLogger }]
</code-example></div><p>See more <code>useValue</code> examples in the
<a href="#non-class-dependencies">Non-class dependencies</a> and
<a href="#opaquetoken">OpaqueToken</a> sections.</p>
<div id="factory-provider"></div><h3 id="factory-providers">Factory providers</h3>
<p>Sometimes you need to create the dependent value dynamically,
based on information you won&#39;t have until the last possible moment.
Maybe the information changes repeatedly in the course of the browser session.</p>
<p>Suppose also that the injectable service has no independent access to the source of this information.</p>
<p>This situation calls for a <strong>factory provider</strong>.</p>
<p>To illustrate the point, add a new business requirement:
the <code>HeroService</code> must hide <em>secret</em> heroes from normal users.
Only authorized users should see secret heroes.</p>
<p>Like the <code>EvenBetterLogger</code>, the <code>HeroService</code> needs a fact about the user.
It needs to know if the user is authorized to see secret heroes.
That authorization can change during the course of a single application session,
as when you log in a different user.</p>
<p>Unlike <code>EvenBetterLogger</code>, you can&#39;t inject the <code>UserService</code> into the <code>HeroService</code>.
The <code>HeroService</code> won&#39;t have direct access to the user information to decide
who is authorized and who is not.</p>
<p>Instead, the <code>HeroService</code> constructor takes a boolean flag to control display of secret heroes.</p>
<div class="code-example"><header><h4>src/app/heroes/hero.service.ts (excerpt)</h4></header><code-example language="ts" format="">constructor(
  private logger: Logger,
  private isAuthorized: boolean) { }

getHeroes() {
  let auth = this.isAuthorized ? &#39;authorized &#39; : &#39;unauthorized&#39;;
  this.logger.log(`Getting heroes for ${auth} user.`);
  return HEROES.filter(hero =&gt; this.isAuthorized || !hero.isSecret);
}
</code-example></div><p>You can inject the <code>Logger</code>, but you can&#39;t inject the  boolean <code>isAuthorized</code>.
You&#39;ll have to take over the creation of new instances of this <code>HeroService</code> with a factory provider.</p>
<p>A factory provider needs a factory function:</p>
<div class="code-example"><header><h4>src/app/heroes/hero.service.provider.ts (excerpt)</h4></header><code-example language="ts" format="">let heroServiceFactory = (logger: Logger, userService: UserService) =&gt; {
  return new HeroService(logger, userService.user.isAuthorized);
};
</code-example></div><p>Although the <code>HeroService</code> has no access to the <code>UserService</code>, the factory function does.</p>
<p>You inject both the <code>Logger</code> and the <code>UserService</code> into the factory provider 
and let the injector pass them along to the factory function:</p>
<div class="code-example"><header><h4>src/app/heroes/hero.service.provider.ts (excerpt)</h4></header><code-example language="ts" format="">export let heroServiceProvider =
  { provide: HeroService,
    useFactory: heroServiceFactory,
    deps: [Logger, UserService]
  };
</code-example></div><div class="l-sub-section"><p>The <code>useFactory</code> field tells Angular that the provider is a factory function
whose implementation is the <code>heroServiceFactory</code>.</p>
<p>The <code>deps</code> property is an array of <a href="#token">provider tokens</a>.
The <code>Logger</code> and <code>UserService</code> classes serve as tokens for their own class providers.
The injector resolves these tokens and injects the corresponding services into the matching factory function parameters.</p>
</div><p>Notice that you captured the factory provider in an exported variable, <code>heroServiceProvider</code>.
This extra step makes the factory provider reusable.
You can register the <code>HeroService</code> with this variable wherever you need it.</p>
<p>In this sample, you need it only in the <code>HeroesComponent</code>,
where it replaces the previous <code>HeroService</code> registration in the metadata <code>providers</code> array.
Here you see the new and the old implementation side-by-side:</p>
<code-tabs><code-pane language="ts" name="src/app/heroes/heroes.component (v3)" format="linenums">import { Component }          from &#39;@angular/core&#39;;

import { heroServiceProvider } from &#39;./hero.service.provider&#39;;

@Component({
  selector: &#39;my-heroes&#39;,
  template: `
  &lt;h2&gt;Heroes&lt;/h2&gt;
  &lt;hero-list&gt;&lt;/hero-list&gt;
  `,
  providers: [heroServiceProvider]
})
export class HeroesComponent { }
</code-pane><code-pane language="ts" name="src/app/heroes/heroes.component (v2)" format="linenums">import { Component }          from &#39;@angular/core&#39;;

import { HeroService }        from &#39;./hero.service&#39;;

@Component({
  selector: &#39;my-heroes&#39;,
  providers: [HeroService],
  template: `
  &lt;h2&gt;Heroes&lt;/h2&gt;
  &lt;hero-list&gt;&lt;/hero-list&gt;
  `
})
export class HeroesComponent { }
</code-pane></code-tabs><div id="token" class="l-main-section"></div><h2 id="dependency-injection-tokens">Dependency injection tokens</h2>
<p>When you register a provider with an injector, you associate that provider with a dependency injection token.
The injector maintains an internal <em>token-provider</em> map that it references when
asked for a dependency. The token is the key to the map.</p>
<p>In all previous examples, the dependency value has been a class <em>instance</em>, and
the class <em>type</em> served as its own lookup key.
Here you get a <code>HeroService</code> directly from the injector by supplying the <code>HeroService</code> type as the token:</p>
<div class="code-example"><code-example language="ts" format="">heroService: HeroService = this.injector.get(HeroService);
</code-example></div><p>You have similar good fortune when you write a constructor that requires an injected class-based dependency.
When you define a constructor parameter with the <code>HeroService</code> class type,
Angular knows to inject the
service associated with that <code>HeroService</code> class token:</p>
<div class="code-example"><code-example language="ts" format="">constructor(heroService: HeroService)
</code-example></div><p>This is especially convenient when you consider that most dependency values are provided by classes.</p>
<a id="non-class-dependencies"></a><h3 id="non-class-dependencies">Non-class dependencies</h3>
<p>What if the dependency value isn't a class? Sometimes the thing you want to inject is a span string, function, or object.</p><p>Applications often define configuration objects with lots of small facts 
(like the title of the application or the address of a web API endpoint) but these configuration objects aren't always instances of a class.
They can be object literals such as this one:</p><div class="code-example"><header><h4>src/app/app-config.ts (excerpt)</h4></header><code-example language="ts" format="">export interface AppConfig {
  apiEndpoint: string;
  title: string;
}

export const HERO_DI_CONFIG: AppConfig = {
  apiEndpoint: &#39;api.heroes.com&#39;,
  title: &#39;Dependency Injection&#39;
};
</code-example></div><p>What if you&#39;d like to make this configuration object available for injection?
You know you can register an object with a <a href="#value-provider">value provider</a>.</p>
<p>But what should you use as the token?
You don&#39;t have a class to serve as a token.
There is no <code>AppConfig</code> class.</p>
<div id="interface" class="l-sub-section"><h3 id="typescript-interfaces-aren-t-valid-tokens">TypeScript interfaces aren&#39;t valid tokens</h3>
<p>The <code>HERO_DI_CONFIG</code> constant has an interface, <code>AppConfig</code>. Unfortunately, you
cannot use a TypeScript interface as a token:</p>
<div class="code-example"><code-example language="ts" format="">// FAIL! Can&#39;t use interface as provider token
[{ provide: AppConfig, useValue: HERO_DI_CONFIG })]
</code-example></div><div class="code-example"><code-example language="ts" format="">// FAIL! Can&#39;t inject using the interface as the parameter type
constructor(private config: AppConfig){ }
</code-example></div><p>That seems strange if you&#39;re used to dependency injection in strongly typed languages, where
an interface is the preferred dependency lookup key.</p>
<p>It&#39;s not Angular&#39;s doing. An interface is a TypeScript design-time artifact. JavaScript doesn&#39;t have interfaces.
The TypeScript interface disappears from the generated JavaScript.
There is no interface type information left for Angular to find at runtime.</p>
</div><a id="opaquetoken"></a><h3 id="_opaquetoken_"><em>OpaqueToken</em></h3>
<p>One solution to choosing a provider token for non-class dependencies is
to define and use an <a href="../api/core/index/OpaqueToken-class.html"><b>OpaqueToken</b></a>.
The definition looks like this:</p>
<div class="code-example"><code-example language="ts" format="">import { OpaqueToken } from &#39;@angular/core&#39;;

export let APP_CONFIG = new OpaqueToken(&#39;app.config&#39;);
</code-example></div><p>Register the dependency provider using the <code>OpaqueToken</code> object:</p>
<div class="code-example"><code-example language="ts" format="">providers: [{ provide: APP_CONFIG, useValue: HERO_DI_CONFIG }]
</code-example></div><p>Now you can inject the configuration object into any constructor that needs it, with
the help of an <code>@Inject</code> decorator:</p>
<div class="code-example"><code-example language="ts" format="">constructor(@Inject(APP_CONFIG) config: AppConfig) {
  this.title = config.title;
}
</code-example></div><div class="l-sub-section"><p>Although the <code>AppConfig</code> interface plays no role in dependency injection,
it supports typing of the configuration object within the class.</p>
</div><p>Aternatively, you can provide and inject the configuration object in an ngModule like <code>AppModule</code>.</p>
<div class="code-example"><header><h4>src/app/app.module.ts (ngmodule-providers)</h4></header><code-example language="ts" format="">providers: [
  UserService,
  { provide: APP_CONFIG, useValue: HERO_DI_CONFIG }
],
</code-example></div><div id="optional"></div><h2 id="optional-dependencies">Optional dependencies</h2>
<p>The <code>HeroService</code> <em>requires</em> a <code>Logger</code>, but what if it could get by without
a <code>logger</code>?
You can tell Angular that the dependency is optional by annotating the 
constructor argument with <code>@Optional()</code>:</p>
<div class="code-example"><code-example language="ts" format="">import { Optional } from &#39;@angular/core&#39;;
</code-example></div><div class="code-example"><code-example language="ts" format="">constructor(@Optional() private logger: Logger) {
  if (this.logger) {
    this.logger.log(some_message);
  }
}
</code-example></div><p>When using <code>@Optional()</code>, your code must be prepared for a null value. If you
don&#39;t register a <code>logger</code> somewhere up the line, the injector will set the
value of <code>logger</code> to null.</p>
<div class="l-main-section"></div><h2 id="summary">Summary</h2>
<p>You learned the basics of Angular dependency injection in this page.
You can register various kinds of providers,
and you know how to ask for an injected object (such as a service) by
adding a parameter to a constructor.</p>
<p>Angular dependency injection is more capable than this guide has described.
You can learn more about its advanced features, beginning with its support for
nested injectors, in 
<a href="hierarchical-dependency-injection.html">Hierarchical Dependency Injection</a>.</p>
<div id="explicit-injector" class="l-main-section"></div><h2 id="appendix-working-with-injectors-directly">Appendix: Working with injectors directly</h2>
<p>Developers rarely work directly with an injector, but
here&#39;s an <code>InjectorComponent</code> that does.</p>
<div class="code-example"><header><h4>src/app/injector.component.ts</h4></header><code-example language="ts" format="linenums">@Component({
  selector: &#39;my-injectors&#39;,
  template: `
  &lt;h2&gt;Other Injections&lt;/h2&gt;
  &lt;div id=&quot;car&quot;&gt;{{car.drive()}}&lt;/div&gt;
  &lt;div id=&quot;hero&quot;&gt;{{hero.name}}&lt;/div&gt;
  &lt;div id=&quot;rodent&quot;&gt;{{rodent}}&lt;/div&gt;
  `,
  providers: [Car, Engine, Tires, heroServiceProvider, Logger]
})
export class InjectorComponent {
  car: Car = this.injector.get(Car);

  heroService: HeroService = this.injector.get(HeroService);
  hero: Hero = this.heroService.getHeroes()[0];

  constructor(private injector: Injector) { }

  get rodent() {
    let rousDontExist = `R.O.U.S.&#39;s? I don&#39;t think they exist!`;
    return this.injector.get(ROUS, rousDontExist);
  }
}
</code-example></div><p>An <code>Injector</code> is itself an injectable service.</p>
<p>In this example, Angular injects the component&#39;s own <code>Injector</code> into the component&#39;s constructor.
The component then asks the injected injector for the services it wants.</p>
<p>Note that the services themselves are not injected into the component.
They are retrieved by calling <code>injector.get()</code>.</p>
<p>The <code>get()</code> method throws an error if it can&#39;t resolve the requested service.
You can call <code>get()</code> with a second parameter, which is the value to return if the service 
is not found. Angular can&#39;t find the service if it&#39;s not registered with this or any ancestor injector.</p>
<div class="l-sub-section"><p>The technique is an example of the
<a href="https://en.wikipedia.org/wiki/Service_locator_pattern">service locator pattern</a>.</p>
<p><strong>Avoid</strong> this technique unless you genuinely need it.
It encourages a careless grab-bag approach such as you see here.
It&#39;s difficult to explain, understand, and test.
You can&#39;t know by inspecting the constructor what this class requires or what it will do.
It could acquire services from any ancestor component, not just its own.
You&#39;re forced to spelunk the implementation to discover what it does.</p>
<p>Framework developers may take this approach when they
must acquire services generically and dynamically.</p>
</div><div id="one-class-per-file" class="l-main-section"></div><h2 id="appendix-why-have-one-class-per-file">Appendix: Why have one class per file</h2>
<p>Having multiple classes in the same file is confusing and best avoided.
Developers expect one class per file. Keep them happy.</p>
<p>If you combine the <code>HeroService</code> class with 
the <code>HeroesComponent</code> in the same file, 
<strong>define the component last</strong>.
If you define the component before the service,
you&#39;ll get a runtime null reference error.</p>
<div class="l-sub-section"><p>You actually can define the component first with the help of the <code>forwardRef()</code> method as explained
in this <a href="http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html">blog post</a>.
But why flirt with trouble?
Avoid the problem altogether by defining components and services in separate files.</p>
</div><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><div class="l-sub-section"><h3>Next Step</h3><a href="/docs/ts/latest/guide/template-syntax.html">Template Syntax</a></div><!--NEXT PAGE HAS NOW BEEN SET--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--></article><div data-swiftype-index="false" class="main-footer"><nav class="background-midnight grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">RESOURCES</h3><ul class="text-body"><!-- TODO: (ericjim) make a libraries page to showcase all angular libraries--><!--li <a href="/libraries.html">Libraries</a>--><li><a href="/about/">About</a></li><li><a href="/resources/#Education">Books & Training</a></li><li><a href="/resources/">Tools & Libraries</a></li><li><a href="/resources/">Community</a></li><li><a href="/presskit.html">Press Kit</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><ul class="text-body"><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://github.com/angular/angular/issues"> Report Issues</a></li><li><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> Site Feedback</a></li></ul></div><div class="c2"><h3 class="text-headline">COMMUNITY</h3><ul class="text-body"><li><a href="/events.html">Events</a></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="https://twitter.com/angular"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><a href="/contribute.html"> Contribute</a></li></ul></div><div class="c2"><h3 class="text-headline">LANGUAGES</h3><ul class="text-body"><li><a href="https://angular.cn/">中文版</a></li></ul></div></nav><footer class="background-midnight"><small class="text-caption">Powered by Google ©2010-2017. Code licensed under an <a href="/license">MIT-style License</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</small><a aria-label="View Style Guide" href="/docs/ts/latest/styleguide.html" title="Style Guide" class="styleguide-trigger"><span class="icon-favorite"></span></a></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><script src="/resources/js/vendor/clipboard.min.js"></script><!-- Angular Material Dependencies --><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular-animate.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular-aria.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script><!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
<!-- AngularFire -->
<script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
<!-- Angular.io Site JS --><script src="/resources/js/site.js"></script><script src="/resources/js/util.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/controllers/resources-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/announcement-bar.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/copy.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/if-docs.js"></script><script src="/resources/js/directives/live-example.js"></script><script src="/resources/js/directives/ngio-ex-path.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8594346-15', 'auto');
ga('send', 'pageview')
</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK','2.0.0');

</script><!-- Google Feedback --><script src="//www.gstatic.com/feedback/api.js" type="text/javascript"></script><!-- Twitter Widget --><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document,"script","twitter-wjs");</script></body></html>