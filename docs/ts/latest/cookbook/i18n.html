<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><!-- template: public/docs/_layout--><head><title>Internationalization (i18n) - ts - COOKBOOK</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta name="keywords" content="Angular, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="name" content="Angular"/><meta itemprop="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="image" content="https://angular.io/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,700" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><nav data-swiftype-index="false" scroll-y-offset-element="scroll-y-offset-element" class="main-nav l-pinned-top l-layer-5"><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="View Menu" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">Site Menu <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>Features</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>Docs</a></li><li class="l-left"><a class="main-nav-button" href="/events.html" md-button>Events</a></li><li class="l-right"><a class="main-nav-button" href="/docs/ts/latest/quickstart.html" md-button>Get Started</a></li></ul></nav><!-- Include this file ONLY when current.path[2] is defined--><nav data-swiftype-index="false" ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="sidenav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="sidenav-search st-input-wrapper"><div class="st-input-inner"><label for="search-io" class="is-hidden">Search Docs</label><input type="text" placeholder="SEARCH DOCS..." class="st-default-search-input"/></div><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">Docs <span class="icon icon-arrow-drop-down"></span></button></header><ul class="sidenav-links"><li class="sidenav-section no-border"><a href="/docs/ts/latest/" class="nav-title">Docs Home</a></li><!-- CORE DOCUMENTATION--><li class="sidenav-section-divider"><h3>Core Documentation</h3></li><li class="sidenav-section"><a href="/docs/ts/latest/quickstart.html" title="Quickstart" class="nav-title ">Quickstart</a></li><li class="sidenav-section"><a href="/docs/ts/latest/cli-quickstart.html" title="CLI Quickstart" class="nav-title ">CLI Quickstart</a></li><li class="sidenav-section"><a href="/docs/ts/latest/guide/" title="How to read and use this documentation." class="nav-title is-parent ">Guide<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/guide/" title="How to read and use this documentation.">1. Overview</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/setup.html" title="Install the Angular QuickStart seed for faster, more efficient development on your machine.">2. Setup</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/learning-angular.html" title="A suggested path through the documentation for Angular newcomers.">3. Learning Angular</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/architecture.html" title="The basic building blocks of Angular applications.">4. Architecture</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/appmodule.html" title="Tell Angular how to construct and bootstrap the app in the root &quot;AppModule&quot;.">5. The Root Module</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/displaying-data.html" title="Property binding helps show app data in the UI.">6. Displaying Data</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/user-input.html" title="User input triggers DOM events. We listen to those events with event bindings that funnel updated values back into our components and models.">7. User Input</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/forms.html" title="A form creates a cohesive, effective, and compelling data entry experience. An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors.">8. Forms</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services &quot;just-in-time&quot;.">9. Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/template-syntax.html" title="Learn how to write templates that display data and consume user events with the help of data binding.">10. Template Syntax</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/cheatsheet.html" title="Cheat Sheet">11. Cheat Sheet</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/style-guide.html" title="Write Angular with style.">12. Style Guide</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/glossary.html" title="Brief definitions of the most important words in the Angular vocabulary.">13. Glossary</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/change-log.html" title="An annotated history of recent documentation improvements.">14. Change Log</a></li></ul></div></li><li class="sidenav-section no-border"><a href="/docs/ts/latest/api/" title="API Reference" class="nav-title ">API Reference</a></li><!-- ADVANCED DOCUMENATION--><li class="sidenav-section-divider"><h3>Additional Documentation</h3></li><li class="sidenav-section"><a href="/docs/ts/latest/tutorial/" title="The Tour of Heroes tutorial takes you through the steps of creating an Angular application in TypeScript." class="nav-title is-parent ">Tutorial<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/" title="The Tour of Heroes tutorial takes you through the steps of creating an Angular application in TypeScript.">1. Introduction</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt1.html" title="We build a simple hero editor.">2. The Hero Editor</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt2.html" title="We build a master/detail page with a list of heroes.">3. Master/Detail</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt3.html" title="We refactor the master/detail view into separate components.">4. Multiple Components</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt4.html" title="We create a reusable service to manage our hero data calls.">5. Services</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt5.html" title="We add the Angular Router and learn to navigate among the views.">6. Routing</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt6.html" title="We convert our service and components to use Angular's HTTP service.">7. HTTP</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/ts/latest/guide/animations.html" title="A guide to Angular's animation system." class="nav-title is-parent ">Advanced<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/guide/animations.html" title="A guide to Angular's animation system.">Animations</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements.">Attribute Directives</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/browser-support.html" title="Browser support and polyfills guide.">Browser support</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/component-styles.html" title="Learn how to apply CSS styles to components.">Component Styles</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/deployment.html" title="Learn how to deploy your Angular app.">Deployment</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/hierarchical-dependency-injection.html" title="Angular's hierarchical dependency injection system supports nested injectors in parallel with the component tree.">Hierarchical Injectors</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/reactive-forms.html" title="Create a reactive form using FormBuilder, groups, and arrays.">Reactive Forms</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/server-communication.html" title="Use an HTTP Client to talk to a remote server.">HTTP Client</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them.">Lifecycle Hooks</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/ngmodule.html" title="Define application modules with @NgModule.">NgModules</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/npm-packages.html" title="Recommended npm packages, and how to specify package dependencies.">Npm Packages</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/pipes.html" title="Pipes transform displayed values within a template.">Pipes</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/router.html" title="Discover the basics of screen navigation with the Angular Router.">Routing &amp; Navigation</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/security.html" title="Developing for content security in Angular applications.">Security</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/setup-systemjs-anatomy.html" title="Inside the local development environment for SystemJS.">Setup Anatomy</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/structural-directives.html" title="Angular has a powerful template engine that lets us easily manipulate the DOM structure of our elements.">Structural Directives</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/testing.html" title="Techniques and practices for testing an Angular app.">Testing</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/typescript-configuration.html" title="TypeScript configuration for Angular developers.">TypeScript Configuration</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/upgrade.html" title="Incrementally upgrade an AngularJS application to Angular.">Upgrading from AngularJS</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/webpack.html" title="Create Angular applications with a Webpack based tooling.">Webpack: an introduction</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/ts/latest/cookbook/" title="A collection of recipes for common Angular application scenarios." class="nav-title is-parent is-selected">Cookbook<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists"><ul><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/" title="A collection of recipes for common Angular application scenarios.">Overview</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/aot-compiler.html" title="Learn how to use Ahead-of-time compilation.">Ahead-of-Time Compilation</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ajs-quick-reference.html" title="Learn how AngularJS concepts and techniques map to Angular.">AngularJS to Angular</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/component-communication.html" title="Share information between different directives and components.">Component Interaction</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dependency-injection.html" title="Techniques for Dependency Injection.">Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dynamic-component-loader.html" title="Load components dynamically.">Dynamic Component Loader</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dynamic-form.html" title="Render dynamic forms with FormGroup.">Dynamic Forms</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/form-validation.html" title="Validate user's form entries.">Form Validation</a></li><li class="nav-list-item is-selected"><a href="/docs/ts/latest/cookbook/i18n.html" title="Translate the app's template text into multiple languages.">Internationalization (i18n)</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ngmodule-faq.html" title="Answers to frequently asked questions about @NgModule.">NgModule FAQs</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/set-document-title.html" title="Setting the document or window title using the Title service.">Set the Document Title</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ts-to-js.html" title="Convert Angular TypeScript examples into ES6 and ES5 JavaScript.">TypeScript to JavaScript</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/visual-studio-2015.html" title="Use Visual Studio 2015 with the QuickStart files.">Visual Studio 2015 QuickStart</a></li></ul></div></li></ul><nav class="dropdown"><button aria-label="Select a version of Angular" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular for TypeScript  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><ul ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><li><a href="/docs/ts/latest/cookbook/i18n.html" md-button>Angular for TypeScript </a></li><li><a href="/docs/js/latest/cookbook/i18n.html" md-button>Angular for JavaScript </a></li></ul></nav></nav><script>// Could put in appCtrl but only needed here and clear here
(function scrollToSelectedLink() {
  var sideNav = document.getElementsByClassName('sidenav')[0];
  var link = sideNav.getElementsByClassName('is-selected')[0];
  if(link && link.offsetTop > window.innerHeight){
    sideNav.scrollTop = link.offsetTop - (window.innerHeight/2);
    //alert("offsetTop: " + link.offsetTop + " side-nav top is " + sideNav.scrollTop);
  }
})()</script><header class="hero background-sky"><h1 class="hero-title ">Internationalization (i18n) </h1><div class="clear"></div></header><div class="banner"><p class="text-body">Translate the app's template text into multiple languages.</p></div><article class="l-content-small grid-fluid docs-content"><script>function why(id, backTo) {
  var id = "#"+id;
  var el = document.querySelector(id);
  el.hidden=el.hidden=!el.hidden;

  if (el.hidden && backTo){
    // the next line is required to work around a bug in WebKit (Chrome / Safari)
    location.href = "#";
    location.href =  "#" + backTo;
  }
}</script><script>function verbose(isVerbose) {
  isVerbose = !! isVerbose;
  var el = document.querySelector('button.verbose.off');
  el.style.display = isVerbose ? 'block' : 'none';
  var el = document.querySelector('button.verbose.on');
  el.style.display = isVerbose ? 'none' : 'block';

  CCSStylesheetRuleStyle('main','.l-verbose-section', 'display',
    isVerbose ? 'block' : 'none');
}
</script><script>function CCSStylesheetRuleStyle(stylesheet, selectorText, style, value){
  /* returns the value of the element style of the rule in the stylesheet
  *  If no value is given, reads the value
  *  If value is given, the value is changed and returned
  *  If '' (empty string) is given, erases the value.
  *  The browser will apply the default one
  *
  * string stylesheet: part of the .css name to be recognized, e.g. 'default'
  * string selectorText: css selector, e.g. '#myId', '.myClass', 'thead td'
  * string style: camelCase element style, e.g. 'fontSize'
  * string value optional : the new value
  */
  var CCSstyle = undefined, rules, sheet;
  for(var m in document.styleSheets){
    sheet = document.styleSheets[m];
    if(sheet.href && sheet.href.indexOf(stylesheet) != -1){
    rules = sheet[document.all ? 'rules' : 'cssRules'];
    for(var n in rules){
      console.log(rules[n].selectorText);
      if(rules[n].selectorText == selectorText){
        CCSstyle = rules[n].style;
        break;
      }
    }
    break;
    }
  }
  if(value == undefined)
    return CCSstyle[style]
  else
    return CCSstyle[style] = value
}
</script><a id="top"></a><p>Angular&#39;s <em>internationalization</em> (<em>i18n</em>) tools help make your app available in multiple languages.</p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#angular-i18n">Angular and i18n template translation</a></li>
<li><a href="#i18n-attribute">Mark text with the <em>i18n</em> attribute</a></li>
<li><a href="#translate-attributes">Add <em>i18n-...</em> translation attributes</a></li>
<li><a href="#cardinality">Handle singular and plural</a></li>
<li><a href="#select">Select among alternative texts</a></li>
<li><a href="#ng-xi18n">Create a translation source file with the <strong><em>ng-xi18n</em> extraction tool</strong></a></li>
<li><a href="#translate">Translate text messages</a></li>
<li><a href="#merge">Merge the completed translation file into the app</a><ul>
<li><a href="#jit">Merge with the JIT compiler</a></li>
<li><a href="#aot">Internationalization with the AOT compiler</a></li>
</ul>
</li>
<li><a href="#maintenance">Translation file maintenance and <em>id</em> changes</a></li>
</ul>
<p><strong>Try this</strong> <live-example name="cb-i18n" title="i18n Example in Spanish">live example</live-example> 
of a JIT-compiled app, translated into Spanish.</p>
<a id="angular-i18n"></a><div class="l-main-section"></div><h2 id="angular-and-_i18n_-template-translation">Angular and <em>i18n</em> template translation</h2>
<p>Application internationalization is a challenging, many-faceted effort that 
takes dedication and enduring commitment.
Angular&#39;s <em>i18n</em> internationalization facilities can help.</p>
<p>This page describes the <em>i18n</em> tools available to assist translation of component template text
into multiple languages.</p>
<div class="l-sub-section"><p>Practitioners of <em>internationalization</em> refer to a translatable text as a &quot;<em>message</em>&quot;.
This page uses the words &quot;<em>text</em>&quot; and &quot;<em>message</em>&quot; interchangably and in the combination, &quot;<em>text message</em>&quot;.</p>
</div><p>The <em>i18n</em> template translation process has four phases:</p>
<ol>
<li><p>Mark static text messages in your component templates for translation.</p>
</li>
<li><p>An angular <em>i18n</em> tool extracts the marked messages into an industry standard translation source file.</p>
</li>
<li><p>A translator edits that file, translating the extracted text messages into the target language, 
and returns the file to you.</p>
</li>
<li><p>The Angular compiler imports the completed translation files, 
replaces the original messages with translated text, and generates a new version of the application
in the target language.</p>
</li>
</ol>
<p>You need to build and deploy a separate version of the application for each supported language.</p>
<a id="i18n-attribute"></a><div class="l-main-section"></div><h2 id="mark-text-with-the-_i18n_-attribute">Mark text with the <em>i18n</em> attribute</h2>
<p>The Angular <code>i18n</code> attribute is a marker for translatable content.
Place it on every element tag whose fixed text should be translated.</p>
<div class="alert is-helpful"><p><code>i18n</code> is not an Angular <em>directive</em>. 
It&#39;s a custom <em>attribute</em>, recognized by Angular tools and compilers.
After translation, the compiler removes it.</p>
</div><p>In the accompanying sample, an <code>&lt;h1&gt;</code> tag displays a simple English language greeting 
that you translate into Spanish:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;h1&gt;Hello i18n!&lt;/h1&gt;
</code-example></div><p>Add the <code>i18n</code> attribute to the tag to mark it for translation.</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;h1 i18n&gt;Hello i18n!&lt;/h1&gt;
</code-example></div><h3 id="help-the-translator-with-a-_description_-and-_intent_">Help the translator with a <em>description</em> and <em>intent</em></h3>
<p>In order to translate it accurately, the translator may 
need a description of the message.
Assign a description to the i18n attribute:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;h1 i18n=&quot;An introduction header for this sample&quot;&gt;Hello i18n!&lt;/h1&gt;
</code-example></div><p>In order to deliver a correct translation, the translator may need to 
know your <em>intent</em>&mdash;the true <em>meaning</em> of the text 
within <em>this particular</em> application context.
In front of the description, add some contextual meaning to the assigned string,
separating it from the description with the <code>|</code> character (<code>&lt;meaning&gt;|&lt;description&gt;</code>):</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;h1 i18n=&quot;User welcome|An introduction header for this sample&quot;&gt;Hello i18n!&lt;/h1&gt;
</code-example></div><p>While all appearances of a message with the <em>same</em> meaning have the <em>same</em> translation, 
a message with <em>a variety of possible meanings</em> could have different translations.
The Angular extraction tool preserves both the <em>meaning</em> and the <em>description</em> in the translation source file
to facilitiate contextually-specific translations.</p>
<h3 id="translate-text-without-creating-an-element">Translate text without creating an element</h3>
<p>Suppose there is a stretch of text that you&#39;d like to translate.
You could wrap it in a <code>&lt;span&gt;</code> tag but for some reason (CSS comes to mind)
you don&#39;t want to create a new DOM element merely to facilitate translation.</p>
<p>Here are two techniques to try.</p>
<p>(1) Wrap the text in an <code>&lt;ng-container&gt;</code> element. The <code>&lt;ng-container&gt;</code> is never renderered:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;ng-container i18n&gt;I don&#39;t output any element&lt;/ng-container&gt;
</code-example></div><p>(2) Wrap the text in a pair of HTML comments:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;!--i18n: optional meaning|optional description --&gt;
I don&#39;t output any element either
&lt;!--/i18n--&gt;
</code-example></div><div class="l-main-section"></div><a id="translate-attributes"></a><h2 id="add-_i18n-_-translation-attributes">Add <em>i18n-...</em> translation attributes</h2>
<p>You&#39;ve added an image to your template. You care about accessibility too so you add a <code>title</code> attribute:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;img [src]=&quot;logo&quot; title=&quot;Angular logo&quot;&gt;
</code-example></div><p>The <code>title</code> attribute needs to be translated. 
Angular i18n support has more translation attributes in the form,<code>i18n-x</code>, where <code>x</code> is the
name of the attribute to translate. </p>
<p>To translate the <code>title</code> on the <code>img</code> tag from the previous example, write:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;img [src]=&quot;logo&quot; i18n-title title=&quot;Angular logo&quot; /&gt;
</code-example></div><p>You can also assign a meaning and a description with the <code>i18n-x=&quot;&lt;meaning&gt;|&lt;description&gt;&quot;</code> syntax.</p>
<div class="l-main-section"></div><a id="cardinality"></a><h2 id="handle-singular-and-plural">Handle singular and plural</h2>
<p>Different languages have different pluralization rules.</p>
<p>Suppose your application says something about a collection of wolves. 
In English, depending upon the number of wolves, you could display &quot;no wolves&quot;, &quot;one wolf&quot;, &quot;two wolves&quot;, or &quot;a wolf pack&quot;.
Other languages might express the <em>cardinality</em> differently. </p>
<p>Here&#39;s how you could mark up the component template to display the phrase appropriate to the number of wolves:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;span i18n&gt;{wolves, plural, =0 {no wolves} =1 {one wolf} =2 {two wolves} other {a wolf pack}}&lt;/span&gt;
</code-example></div><ul>
<li>The first parameter is the key. It is bound to the component property (<code>wolves</code>) 
that determines the number of wolves.</li>
<li>The second parameter identifies this as a <code>plural</code> translation type.</li>
<li>The third parameter defines a pluralization pattern consisting of pluralization 
categories and their matching values.</li>
</ul>
<p>Pluralization categories include:</p>
<ul>
<li>=0</li>
<li>=1</li>
<li>=5</li>
<li>few</li>
<li>other</li>
</ul>
<p>Put the default <em>English</em> translation in braces (<code>{}</code>) next to the pluralization category.</p>
<ul>
<li>When you&#39;re talking about one wolf, you could write <code>=1 {one wolf}</code>.</li>
<li>For zero wolves, you could write <code>=0 {no wolves}</code>.</li>
<li>For two wolves, you could write <code>=2 {two wolves}</code>. </li>
</ul>
<p>You could keep this up for three, four, and every other number of wolves.
Or you could specify the <strong><code>other</code></strong> category as a catch-all for any unmatched cardinality
and write something like: <code>other {a wolf pack}</code>.</p>
<div class="l-sub-section"><p>This syntax conforms to the
<a href="http://userguide.icu-project.org/formatparse/messages" target="_blank" title="ICU Message Format">ICU Message Format</a>
that derives from the 
<a href="http://cldr.unicode.org/" target="_blank" title="CLDR">Common Locale Data Repository (CLDR),</a>
which specifies the
<a href="http://unicode.org/reports/tr35/tr35-numbers.html#Language_Plural_Rules" target="_blank" title="Pluralization Rules">pluralization rules</a>.</p>
</div><a id="select"></a><h2 id="select-among-alternative-texts">Select among alternative texts</h2>
<p>The application displays different text depending upon whether the hero is male or female.
These text alternatives require translation too.</p>
<p>You can handle this with a <code>select</code> translation. 
A <code>select</code> also follows the
<a href="http://userguide.icu-project.org/formatparse/messages" target="_blank" title="ICU Message Format">ICU message syntax</a>. 
You choose among alternative translation based on a string value instead of a number.</p>
<p>The following format message in the component template binds to the component&#39;s <code>gender</code> 
property, which outputs either an &quot;m&quot; or an &quot;f&quot;.
The message maps those values to the appropriate translation:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;span i18n&gt;The hero is {gender, select, m {male} f {female}}&lt;/span&gt;
</code-example></div><a id="ng-xi18n"></a><div class="l-main-section"></div><h2 id="create-a-translation-source-file-with-the-_ng-xi18n_-tool">Create a translation source file with the <em>ng-xi18n</em> tool</h2>
<p>Use the <strong><em>ng-xi18n</em> extraction tool</strong> to extract the <code>i18n</code>-marked texts 
into a translation source file in an industry standard format.</p>
<p>This is an Angular CLI tool in the <code>@angular/compiler-cli</code> npm package.
If you haven&#39;t already installed the CLI and its <code>platform-server</code> peer dependency, do so now:</p>
<code-example language="sh" class="code-shell">npm install @angular/compiler-cli @angular/platform-server --save
</code-example><p>Open a terminal window at the root of the application project and enter the <code>ng-xi18n</code> command:</p>
<code-example language="sh" class="code-shell">./node_modules/.bin/ng-xi18n
</code-example><div class="l-sub-section"><p>Windows users may have to quote the command like this: <code>&quot;./node_modules/.bin/ng-xi18n&quot;</code></p>
</div><p>By default, the tool generates a translation file named <strong><code>messages.xlf</code></strong> in the
<a href="https://en.wikipedia.org/wiki/XLIFF" target="_blank">XML Localisation Interchange File Format (XLIFF, version 1.2)</a>.</p>
<a id="other-formats"></a><h3 id="other-translation-formats">Other translation formats</h3>
<p>You can generate a file named <strong><code>messages.xmb</code></strong> in the 
<a href="http://cldr.unicode.org/development/development-process/design-proposals/xmb" target="_blank">XML Message Bundle (XMB)</a> format
by adding the <code>--i18nFormat=xmb</code> flag.</p>
<code-example language="sh" class="code-shell">./node_modules/.bin/ng-xi18n  --i18nFormat=xmb
</code-example><p>This sample sticks with the <em>XLIFF</em> format.</p>
<a id="ng-xi18n-options"></a><h3 id="other-options">Other options</h3>
<p>You may have to specify additional options. 
For example, if the <code>tsconfig.json</code> TypeScript configuration 
file is located somewhere other than in the root folder,
you must identify the path to it with the <code>-p</code> option:</p>
<code-example language="sh" class="code-shell">./node_modules/.bin/ng-xi18n -p path/to/tsconfig.json
./node_modules/.bin/ng-xi18n  --i18nFormat=xmb -p path/to/tsconfig.json

</code-example><a id="npm-i18n-script"></a><h3 id="add-an-_npm_-script-for-convenience">Add an <em>npm</em> script for convenience</h3>
<p>Consider adding a convenience shortcut to the <code>scripts</code> section of the <code>package.json</code>
to make the command easier to remember and run:</p>
<code-example format="." language="sh">"scripts": {
  "i18n": "ng-xi18n", 
  ...
}</code-example><p>Now you can issue command variations such as these:</p>
<code-example language="sh" class="code-shell">npm run i18n
npm run i18n -- -p path/to/tsconfig.json
npm run i18n -- --i18nFormat=xmb -p path/to/tsconfig.json</code-example><p>Note the <code>--</code> flag before the options. 
It tells <em>npm</em> to pass every flag thereafter to <code>ng-xi18n</code>.</p>
<a id="translate"></a><div class="l-main-section"></div><h2 id="translate-text-messages">Translate text messages</h2>
<p>The <code>ng-xi18n</code> command generates a translation source file 
in the project root folder named <code>messages.xlf</code>.
The next step is to translate the English language template 
text into the specific language translation
files. The cookbook sample creates a Spanish translation file.</p>
<a id="localization-folder"></a><h3 id="create-a-localization-folder">Create a localization folder</h3>
<p>You will probably translate into more than one other language so it&#39;s a good idea
for the project structure to reflect your entire internationalization effort.</p>
<p>One approach is to dedicate a folder to localization and store related assets 
(for example, internationalization files) there.</p>
<div class="l-sub-section"><p>Localization and internationalization are 
<a href="https://en.wikipedia.org/wiki/Internationalization_and_localization" target="_blank">different but closely related terms</a>.</p>
</div><p>This cookbook follows that suggestion. It has a <code>locale</code> folder under the <code>src/</code>.
Assets within the folder carry a filename extension that matches a language-culture code from a
<a href="https://msdn.microsoft.com/en-us/library/ee825488(v=cs.20).aspx" target="_blank">well-known codeset</a>.</p>
<p>Make a copy of the <code>messages.xlf</code> file, put it in the <code>locale</code> folder and 
rename it <code>messages.es.xlf</code>for the Spanish language translation.
Do the same for each target language.</p>
<h3 id="translate-text-nodes">Translate text nodes</h3>
<p>In the real world, you send the <code>messages.es.xlf</code> file to a Spanish translator who fills in the translations
using one of the
<a href="https://en.wikipedia.org/wiki/XLIFF#Editors" target="_blank">many XLIFF file editors</a>.</p>
<p>This sample file is easy to translate without a special editor or knowledge of Spanish.
Open <code>messages.es.xlf</code> and find the first <code>&lt;trans-unit&gt;</code> section:</p>
<div class="code-example"><header><h4>src/locale/messages.es.xlf (&lt;trans-unit&gt;)</h4></header><code-example language="html" format="">&lt;trans-unit id=&quot;af2ccf4b5dba59616e92cf1531505af02da8f6d2&quot; datatype=&quot;html&quot;&gt;
  &lt;source&gt;Hello i18n!&lt;/source&gt;
  &lt;target&gt;¡Hola i18n!&lt;/target&gt;
  &lt;note priority=&quot;1&quot; from=&quot;description&quot;&gt;An introduction header for this sample&lt;/note&gt;
  &lt;note priority=&quot;1&quot; from=&quot;meaning&quot;&gt;User welcome&lt;/note&gt;
&lt;/trans-unit&gt;
</code-example></div><p>This XML element represents the translation of the <code>&lt;h1&gt;</code> greeting tag you marked with the <code>i18n</code> attribute. </p>
<p>Using the <em>source</em>, <em>description</em>, and <em>meaning</em> elements to guide your translation,
replace the <code>&lt;target/&gt;</code> tag with the Spanish greeting:</p>
<div class="code-example"><header><h4>src/locale/messages.es.xlf (&lt;trans-unit&gt;, after translation)</h4></header><code-example language="html" format="">&lt;trans-unit id=&quot;af2ccf4b5dba59616e92cf1531505af02da8f6d2&quot; datatype=&quot;html&quot;&gt;
  &lt;source&gt;Hello i18n!&lt;/source&gt;
  &lt;target&gt;¡Hola i18n!&lt;/target&gt;
  &lt;note priority=&quot;1&quot; from=&quot;description&quot;&gt;An introduction header for this sample&lt;/note&gt;
  &lt;note priority=&quot;1&quot; from=&quot;meaning&quot;&gt;User welcome&lt;/note&gt;
&lt;/trans-unit&gt;
</code-example></div><div class="alert is-important"><p>Note that the tool generates the <code>id</code>. <strong>Don&#39;t touch it.</strong>
Its value depends on the content of the message and its assigned meaning.
Change either factor and the <code>id</code> changes as well.
See the <strong><a href="#maintenance">translation file maintenance discussion</a></strong>.</p>
</div><p>Translate the other text nodes the same way:</p>
<div class="code-example"><header><h4>src/locale/messages.es.xlf (&lt;trans-unit&gt;)</h4></header><code-example language="html" format="">&lt;trans-unit id=&quot;ba0cc104d3d69bf669f97b8d96a4c5d8d9559aa3&quot; datatype=&quot;html&quot;&gt;
  &lt;source&gt;I don&amp;apos;t output any element&lt;/source&gt;
  &lt;target&gt;No genero ningún elemento&lt;/target&gt;
&lt;/trans-unit&gt;
&lt;trans-unit id=&quot;df3cf8b55cb528cf8c00167e0b119bfb828538b5&quot; datatype=&quot;html&quot;&gt;
  &lt;source&gt;I don&amp;apos;t output any element either&lt;/source&gt;
  &lt;target&gt;Yo tampoco genero ningún elemento&lt;/target&gt;
  &lt;note priority=&quot;1&quot; from=&quot;description&quot;&gt;optional description&lt;/note&gt;
  &lt;note priority=&quot;1&quot; from=&quot;meaning&quot;&gt;optional meaning&lt;/note&gt;
&lt;/trans-unit&gt;
&lt;trans-unit id=&quot;701174153757adf13e7c24a248c8a873ac9f5193&quot; datatype=&quot;html&quot;&gt;
  &lt;source&gt;Angular logo&lt;/source&gt;
  &lt;target&gt;Logo de Angular&lt;/target&gt;
&lt;/trans-unit&gt;
</code-example></div><a id="translate-plural-select"></a><h2 id="translate-_plural_-and-_select_">Translate <em>plural</em> and <em>select</em></h2>
<p>Translating <em>plural</em> and <em>select</em> messages is a little tricky.</p>
<p>The <code>&lt;source&gt;</code> tag is empty for <code>plural</code> and <code>select</code> translation 
units, which makes them hard to correlate with the original template.
The <code>XLIFF</code> format doesn&#39;t yet support the ICU rules; it soon will.
However, the <code>XMB</code> format does support the ICU rules.</p>
<p>You&#39;ll just have to look for them in relation to other translation units that you recognize from elsewhere in the source template.
In this example, you know the translation unit for the <code>select</code> must be just below the translation unit for the logo.</p>
<h3 id="translate-_plural_">Translate <em>plural</em></h3>
<p>To translate a <code>plural</code>, translate its ICU format match values:</p>
<div class="code-example"><header><h4>src/locale/messages.es.xlf (&lt;trans-unit&gt;)</h4></header><code-example language="html" format="">&lt;trans-unit id=&quot;6e22e74e8cbd3095560cfe08993c4fdfa3c50eb0&quot; datatype=&quot;html&quot;&gt;
  &lt;source/&gt;
  &lt;target&gt;{wolves, plural, =0 {ningún lobo} =1 {un lobo} =2 {dos lobos} other {una horda de lobos}}&lt;/target&gt;
&lt;/trans-unit&gt;
</code-example></div><h3 id="translate-_select_">Translate <em>select</em></h3>
<p>The <code>select</code> behaves a little differently. Here again is the ICU format message in the component template:</p>
<div class="code-example"><header><h4>src/app/app.component.html</h4></header><code-example language="html" format="">&lt;span i18n&gt;The hero is {gender, select, m {male} f {female}}&lt;/span&gt;
</code-example></div><p>The extraction tool broke that into <em>two</em> translation units.</p>
<p>The first unit contains the text that was <em>outside</em> the <code>select</code>.
In place of the <code>select</code> is a placeholder, <code>&lt;x id=&quot;ICU&quot;&gt;</code>, that represents the <code>select</code> message. 
Translate the text and leave the placeholder where it is.</p>
<div class="code-example"><header><h4>src/locale/messages.es.xlf (&lt;trans-unit&gt;)</h4></header><code-example language="html" format="">&lt;trans-unit id=&quot;61cafedb85466ab789b3ae817bba1a545468ee1c&quot; datatype=&quot;html&quot;&gt;
  &lt;source&gt;The hero is &lt;x id=&quot;ICU&quot;/&gt;&lt;/source&gt;
  &lt;target&gt;El heroe es &lt;x id=&quot;ICU&quot;/&gt;&lt;/target&gt;
&lt;/trans-unit&gt;
</code-example></div><p>The second translation unit, immediately below the first one, contains the <code>select</code> message. Translate that.</p>
<div class="code-example"><header><h4>src/locale/messages.es.xlf (&lt;trans-unit&gt;)</h4></header><code-example language="html" format="">&lt;trans-unit id=&quot;14c7055d67771a3b7b6888d282ac092896be06b6&quot; datatype=&quot;html&quot;&gt;
  &lt;source/&gt;
  &lt;target&gt;{gender, select, m {hombre} f {mujer}}&lt;/target&gt;
&lt;/trans-unit&gt;
</code-example></div><p>Here they are together, after translation:</p>
<div class="code-example"><header><h4>src/locale/messages.es.xlf (&lt;trans-unit&gt;)</h4></header><code-example language="html" format="">      &lt;trans-unit id=&quot;61cafedb85466ab789b3ae817bba1a545468ee1c&quot; datatype=&quot;html&quot;&gt;
        &lt;source&gt;The hero is &lt;x id=&quot;ICU&quot;/&gt;&lt;/source&gt;
        &lt;target&gt;El heroe es &lt;x id=&quot;ICU&quot;/&gt;&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;14c7055d67771a3b7b6888d282ac092896be06b6&quot; datatype=&quot;html&quot;&gt;
        &lt;source/&gt;
        &lt;target&gt;{gender, select, m {hombre} f {mujer}}&lt;/target&gt;
      &lt;/trans-unit&gt;
</code-example></div><div class="l-main-content"></div><p>The entire template translation is complete. It&#39;s 
time to incorporate that translation into the application.</p>
<div id="app-pre-translation"></div><h3 id="the-app-before-translation">The app before translation</h3>
<p>When the previous steps finish, the sample app <em>and</em> its translation file are as follows:</p>
<code-tabs><code-pane language="html" name="src/app/app.component.html" format="linenums">&lt;h1 i18n=&quot;User welcome|An introduction header for this sample&quot;&gt;Hello i18n!&lt;/h1&gt;

&lt;ng-container i18n&gt;I don&#39;t output any element&lt;/ng-container&gt;

&lt;br /&gt;

&lt;!--i18n: optional meaning|optional description --&gt;
I don&#39;t output any element either
&lt;!--/i18n--&gt;

&lt;br /&gt;

&lt;img [src]=&quot;logo&quot; i18n-title title=&quot;Angular logo&quot; /&gt;
&lt;br&gt;
&lt;button (click)=&quot;inc(1)&quot;&gt;+&lt;/button&gt; &lt;button (click)=&quot;inc(-1)&quot;&gt;-&lt;/button&gt;
&lt;span i18n&gt;{wolves, plural, =0 {no wolves} =1 {one wolf} =2 {two wolves} other {a wolf pack}}&lt;/span&gt;
({{wolves}})
&lt;br&gt;&lt;br&gt;
&lt;button (click)=&quot;male()&quot;&gt;&amp;#9794;&lt;/button&gt; &lt;button (click)=&quot;female()&quot;&gt;&amp;#9792;&lt;/button&gt;
&lt;span i18n&gt;The hero is {gender, select, m {male} f {female}}&lt;/span&gt;
&lt;br&gt;
</code-pane><code-pane language="ts" name="src/app/app.component.ts" format="linenums">import { Component } from &#39;@angular/core&#39;;

@Component({
  selector: &#39;my-app&#39;,
  templateUrl: &#39;./app.component.html&#39;
})
export class AppComponent {
  wolves = 0;
  gender = &#39;f&#39;;
  fly = true;
  logo = &#39;https://angular.io/resources/images/logos/angular2/angular.png&#39;;
  inc(i: number) {
    this.wolves = Math.min(5, Math.max(0, this.wolves + i));
  }
  male()   { this.gender = &#39;m&#39;; }
  female() { this.gender = &#39;f&#39;; }
}
</code-pane><code-pane language="ts" name="src/app/app.module.ts" format="linenums">import { NgModule }      from &#39;@angular/core&#39;;
import { BrowserModule } from &#39;@angular/platform-browser&#39;;

import { AppComponent }  from &#39;./app.component&#39;;

@NgModule({
  imports:      [ BrowserModule ],
  declarations: [ AppComponent ],
  bootstrap:    [ AppComponent ]
})

export class AppModule { }
</code-pane><code-pane language="ts" name="src/main.ts" format="linenums">import { platformBrowserDynamic } from &#39;@angular/platform-browser-dynamic&#39;;

import { AppModule } from &#39;./app/app.module&#39;;

platformBrowserDynamic().bootstrapModule(AppModule);
</code-pane><code-pane language="html
" name="src/locale/messages.es.xlf" format="linenums">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;xliff version=&quot;1.2&quot; xmlns=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;
  &lt;file source-language=&quot;en&quot; datatype=&quot;plaintext&quot; original=&quot;ng2.template&quot;&gt;
    &lt;body&gt;
      &lt;trans-unit id=&quot;af2ccf4b5dba59616e92cf1531505af02da8f6d2&quot; datatype=&quot;html&quot;&gt;
        &lt;source&gt;Hello i18n!&lt;/source&gt;
        &lt;target&gt;¡Hola i18n!&lt;/target&gt;
        &lt;note priority=&quot;1&quot; from=&quot;description&quot;&gt;An introduction header for this sample&lt;/note&gt;
        &lt;note priority=&quot;1&quot; from=&quot;meaning&quot;&gt;User welcome&lt;/note&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;ba0cc104d3d69bf669f97b8d96a4c5d8d9559aa3&quot; datatype=&quot;html&quot;&gt;
        &lt;source&gt;I don&amp;apos;t output any element&lt;/source&gt;
        &lt;target&gt;No genero ningún elemento&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;df3cf8b55cb528cf8c00167e0b119bfb828538b5&quot; datatype=&quot;html&quot;&gt;
        &lt;source&gt;I don&amp;apos;t output any element either&lt;/source&gt;
        &lt;target&gt;Yo tampoco genero ningún elemento&lt;/target&gt;
        &lt;note priority=&quot;1&quot; from=&quot;description&quot;&gt;optional description&lt;/note&gt;
        &lt;note priority=&quot;1&quot; from=&quot;meaning&quot;&gt;optional meaning&lt;/note&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;701174153757adf13e7c24a248c8a873ac9f5193&quot; datatype=&quot;html&quot;&gt;
        &lt;source&gt;Angular logo&lt;/source&gt;
        &lt;target&gt;Logo de Angular&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;6e22e74e8cbd3095560cfe08993c4fdfa3c50eb0&quot; datatype=&quot;html&quot;&gt;
        &lt;source/&gt;
        &lt;target&gt;{wolves, plural, =0 {ningún lobo} =1 {un lobo} =2 {dos lobos} other {una horda de lobos}}&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;61cafedb85466ab789b3ae817bba1a545468ee1c&quot; datatype=&quot;html&quot;&gt;
        &lt;source&gt;The hero is &lt;x id=&quot;ICU&quot;/&gt;&lt;/source&gt;
        &lt;target&gt;El heroe es &lt;x id=&quot;ICU&quot;/&gt;&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;14c7055d67771a3b7b6888d282ac092896be06b6&quot; datatype=&quot;html&quot;&gt;
        &lt;source/&gt;
        &lt;target&gt;{gender, select, m {hombre} f {mujer}}&lt;/target&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;
</code-pane></code-tabs><a id="merge"></a><div class="l-main-section"></div><h2 id="merge-the-completed-translation-file-into-the-app">Merge the completed translation file into the app</h2>
<p>To merge the translated text into component templates,
compile the application with the completed translation file.
The process is the same whether the file is in <code>.xlf</code> format or 
in another format (<code>.xlif</code> and <code>.xtb</code>) that Angular understands.</p>
<p>You provide the Angular compiler with three new pieces of information:</p>
<ul>
<li>the translation file</li>
<li>the translation file format </li>
<li>the   <a href="https://en.wikipedia.org/wiki/XLIFF" target="_blank"><em>Locale ID</em></a>
(<code>es</code> or <code>en-US</code> for instance)</li>
</ul>
<p><em>How</em> you provide this information depends upon whether you compile with
the JIT (<em>Just-in-Time</em>) compiler or the AOT (<em>Ahead-of-Time</em>) compiler. </p>
<ul>
<li>With <a href="#jit">JIT</a>, you provide the information at bootstrap time.</li>
<li>With <a href="#aot">AOT</a>, you pass the information as <code>ngc</code> options. </li>
</ul>
<a id="jit"></a><div class="l-main-section"></div><h3 id="merge-with-the-jit-compiler">Merge with the JIT compiler</h3>
<p>The JIT compiler compiles the application in the browser as the application loads.
Translation with the JIT compiler is a dynamic process of:</p>
<ol>
<li>Determining the language version for the current user.</li>
<li>Importing the appropriate language translation file as a string constant.</li>
<li>Creating corresponding translation providers to guide the JIT compiler.</li>
<li>Bootstrapping the application with those providers.</li>
</ol>
<p>Open <code>index.html</code> and revise the launch script as follows:</p>
<div class="code-example"><header><h4>index.html (launch script)</h4></header><code-example language="html" format="">&lt;script&gt;
  // Get the locale id somehow
  document.locale = &#39;es&#39;;

  // Map to the text plugin
  System.config({
    map: {
      text: &#39;systemjs-text-plugin.js&#39;
    }
  });

  // Launch the app
  System.import(&#39;main.js&#39;).catch(function(err){ console.error(err); });
&lt;/script&gt;
</code-example></div><p>In this sample, the user&#39;s language is hardcoded as a global <code>document.locale</code> variable
in the <code>index.html</code>.</p>
<a id="text-plugin"></a><h3 id="systemjs-text-plugin">SystemJS Text plugin</h3>
<p>Notice the SystemJS mapping of <code>text</code> to a <code>systemjs-text-plugin.js</code>.
With the help of a text plugin, SystemJS can read any file as raw text and
return the contents as a string.
You&#39;ll need it to import the language translation file.</p>
<p>SystemJS doesn&#39;t ship with a raw text plugin but it&#39;s easy to add.
Create the following <code>systemjs-text-plugin.js</code> in the <code>src/</code> folder:</p>
<div class="code-example"><header><h4>src/systemjs-text-plugin.js</h4></header><code-example language="js" format="">/*
  SystemJS Text plugin from
  https://github.com/systemjs/plugin-text/blob/master/text.js
*/
exports.translate = function(load) {
  if (this.builder &amp;&amp; this.transpiler) {
    load.metadata.format = &#39;esm&#39;;
    return &#39;exp&#39; + &#39;ort var __useDefault = true; exp&#39; + &#39;ort default &#39; + JSON.stringify(load.source) + &#39;;&#39;;
  }

  load.metadata.format = &#39;amd&#39;;
  return &#39;def&#39; + &#39;ine(function() {\nreturn &#39; + JSON.stringify(load.source) + &#39;;\n});&#39;;
}
</code-example></div><h3 id="create-translation-providers">Create translation providers</h3>
<p>Three providers tell the JIT compiler how to translate the template texts for a particular language
while compiling the application:</p>
<ul>
<li><code>TRANSLATIONS</code> is a string containing the content of the translation file.</li>
<li><code>TRANSLATIONS_FORMAT</code> is the format of the file: <code>xlf</code>, <code>xlif</code> or <code>xtb</code>.</li>
<li><code>LOCALE_ID</code> is the locale of the target language.</li>
</ul>
<p>The <code>getTranslationProviders</code> function in the following <code>src/app/i18n-providers.ts</code> 
creates those providers based on the user&#39;s <em>locale</em>
and the corresponding translation file:</p>
<div class="code-example"><header><h4>src/app/i18n-providers.ts</h4></header><code-example language="ts" format="linenums">import { TRANSLATIONS, TRANSLATIONS_FORMAT, LOCALE_ID } from &#39;@angular/core&#39;;

export function getTranslationProviders(): Promise&lt;Object[]&gt; {

  // Get the locale id from the global
  const locale = document[&#39;locale&#39;] as string;

  // return no providers if fail to get translation file for locale
  const noProviders: Object[] = [];

  // No locale or U.S. English: no translation providers
  if (!locale || locale === &#39;en-US&#39;) {
    return Promise.resolve(noProviders);
  }

  // Ex: &#39;locale/messages.es.xlf`
  const translationFile = `./locale/messages.${locale}.xlf`;

  return getTranslationsWithSystemJs(translationFile)
    .then( (translations: string ) =&gt; [
      { provide: TRANSLATIONS, useValue: translations },
      { provide: TRANSLATIONS_FORMAT, useValue: &#39;xlf&#39; },
      { provide: LOCALE_ID, useValue: locale }
    ])
    .catch(() =&gt; noProviders); // ignore if file not found
}

declare var System: any;

function getTranslationsWithSystemJs(file: string) {
  return System.import(file + &#39;!text&#39;); // relies on text plugin
}
</code-example></div><ol>
<li><p>It gets the locale from the global <code>document.locale</code> variable that was set in <code>index.html</code>.</p>
</li>
<li><p>If there is no locale or the language is U.S. English (<code>en-US</code>), there is no need to translate.
The function returns an empty <code>noProviders</code> array as a <code>Promise</code>.
It must return a <code>Promise</code> because this function could read a translation file asynchronously from the server.</p>
</li>
<li><p>It creates a transaction filename from the locale according to the name and location convention 
<a href="#localization-folder">described earlier</a>.</p>
</li>
<li><p>The <code>getTranslationsWithSystemJs</code> method reads the translation and returns the contents as a string.
Notice that it appends <code>!text</code> to the filename, telling SystemJS to use the <a href="#text-plugin">text plugin</a>. </p>
</li>
<li><p>The callback composes a providers array with the three translation providers.</p>
</li>
<li><p>Finally, <code>getTranslationProviders</code> returns the entire effort as a promise.</p>
</li>
</ol>
<h3 id="bootstrap-the-app-with-translation-providers">Bootstrap the app with translation providers</h3>
<p>The Angular <code>bootstrapModule</code> method has a second, <em>options</em> parameter
that can influence the behavior of the compiler.</p>
<p>You&#39;ll create an <em>options</em> object with the translation providers from <code>getTranslationProviders</code>
and pass it to <code>bootstrapModule</code>.
Open the <code>src/main.ts</code> and modify the bootstrap code as follows:</p>
<div class="code-example"><header><h4>src/main.ts</h4></header><code-example language="ts" format="">import { platformBrowserDynamic }  from &#39;@angular/platform-browser-dynamic&#39;;
import { getTranslationProviders } from &#39;./app/i18n-providers&#39;;

import { AppModule } from &#39;./app/app.module&#39;;

getTranslationProviders().then(providers =&gt; {
  const options = { providers };
  platformBrowserDynamic().bootstrapModule(AppModule, options);
});
</code-example></div><p>Notice that it waits for the <code>getTranslationProviders</code> promise to resolve before
bootstrapping the app.</p>
<p>The app is now <em>internationalized</em> for English and Spanish and there is a clear path for adding
more languages.</p>
<a id="aot"></a><div class="l-main-section"></div><h3 id="_internationalize_-with-the-aot-compiler"><em>Internationalize</em> with the AOT compiler</h3>
<p>The JIT compiler translates the application into the target language 
while compiling dynamically in the browser.
That&#39;s flexible but may not be fast enough for your users. </p>
<p>The AOT (<em>Ahead-of-Time</em>) compiler is part of a build process that 
produces a small, fast, ready-to-run application package.
When you internationalize with the AOT compiler, you pre-build 
a separate application package for each
language. Then in the host web page (<code>index.html</code>), 
you determine which language the user needs
and serve the appropriate application package.</p>
<p>This cookbook doesn&#39;t cover how to build multiple application packages and 
serve them according to the user&#39;s language preference.
It does explain the few steps necessary to tell the AOT compiler to apply a translations file.</p>
<p>Internationalization with the AOT compiler requires 
some setup specifically for AOT compilation. 
Start with the application project as shown 
<a href="#app-pre-translation">just before merging the translation file</a>
and refer to the <a href="aot-compiler.html">AOT cookbook</a> to make it <em>AOT-ready</em>.</p>
<p>Next, issue an <code>ngc</code> compile command for each supported language (including English).
The result is a separate version of the application for each language.</p>
<p>Tell AOT how to translate by adding three options to the <code>ngc</code> command:</p>
<ul>
<li><code>--i18nFile</code>: the path to the translation file</li>
<li><code>--locale</code>: the name of the locale</li>
<li><code>--i18nFormat</code>: the format of the localization file</li>
</ul>
<p>For this sample, the Spanish language command would be</p>
<code-example language="sh" class="code-shell">./node_modules/.bin/ngc --i18nFile=./locale/messages.es.xlf --locale=es --i18nFormat=xlf
</code-example><div class="l-sub-section"><p>Windows users may have to quote the command:</p>
<code-example language="sh" class="code-shell">"./node_modules/.bin/ngc" --i18nFile=./locale/messages.es.xlf --locale=es --i18nFormat=xlf
</code-example></div><a id="maintenance"></a><h2 id="translation-file-maintenance-and-_id_-changes">Translation file maintenance and <em>id</em> changes</h2>
<p>As the application evolves, you will change the <em>i18n</em> markup 
and re-run the <code>ng-xi18n</code> extraction tool many times.
The <em>new</em> markup that you add is not a problem;
but <em>most</em> changes to <em>existing</em> markup trigger 
generation of <em>new</em> <code>id</code>s for the affected translation units.</p>
<p>After an <code>id</code> changes, the translation files are no longer in-sync.
<strong>All translated versions of the application will fail</strong> during re-compilation. 
The error messages identify the old <code>id</code>s that are no longer valid but 
they don&#39;t tell you what the new <code>id</code>s should be.</p>
<p><strong>Commit all translation message files to source control</strong>, 
especially the English source <code>messages.xlf</code>.
The difference between the old and the new <code>messages.xlf</code> file
 help you find and update <code>id</code> changes across your translation files.</p></article><div data-swiftype-index="false" class="main-footer"><nav class="background-midnight grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">RESOURCES</h3><ul class="text-body"><!-- TODO: (ericjim) make a libraries page to showcase all angular libraries--><!--li <a href="/libraries.html">Libraries</a>--><li><a href="/about/">About</a></li><li><a href="/resources/#Education">Books & Training</a></li><li><a href="/resources/">Tools & Libraries</a></li><li><a href="/resources/">Community</a></li><li><a href="/presskit.html">Press Kit</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><ul class="text-body"><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://github.com/angular/angular/issues"> Report Issues</a></li><li><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> Site Feedback</a></li></ul></div><div class="c2"><h3 class="text-headline">COMMUNITY</h3><ul class="text-body"><li><a href="/events.html">Events</a></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="https://twitter.com/angular"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><a href="/contribute.html"> Contribute</a></li></ul></div><div class="c2"><h3 class="text-headline">LANGUAGES</h3><ul class="text-body"><li><a href="https://angular.cn/">中文版</a></li></ul></div></nav><footer class="background-midnight"><small class="text-caption">Powered by Google ©2010-2017. Code licensed under an <a href="/license">MIT-style License</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</small><a aria-label="View Style Guide" href="/docs/ts/latest/styleguide.html" title="Style Guide" class="styleguide-trigger"><span class="icon-favorite"></span></a></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><script src="/resources/js/vendor/clipboard.min.js"></script><!-- Angular Material Dependencies --><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular-animate.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular-aria.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script><!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
<!-- AngularFire -->
<script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
<!-- Angular.io Site JS --><script src="/resources/js/site.js"></script><script src="/resources/js/util.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/controllers/resources-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/announcement-bar.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/copy.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/if-docs.js"></script><script src="/resources/js/directives/live-example.js"></script><script src="/resources/js/directives/ngio-ex-path.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8594346-15', 'auto');
ga('send', 'pageview')
</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK','2.0.0');

</script><!-- Google Feedback --><script src="//www.gstatic.com/feedback/api.js" type="text/javascript"></script><!-- Twitter Widget --><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document,"script","twitter-wjs");</script></body></html>